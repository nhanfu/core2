{
    "Id": "01939c4c-bf36-702d-887a-b567c7ffee8b",
    "Name": "advance-request-editor",
    "Label": "Advance Request Editor",
    "ParentId": "01939222-2f5a-747a-bb15-606fb55edf4c",
    "Style": "width:1400px;",
    "Script": "return {\r\n    ToWords: function () {\r\n        function convertNumberToWords(number) {\r\n            if (isNaN(number)) return \"Dữ liệu nhập không hợp lệ\";\r\n            const units = [\"\", \"nghìn\", \"triệu\", \"tỷ\", \"nghìn tỷ\", \"triệu tỷ\", \"tỷ tỷ\"];\r\n            const numbers = [\"không\", \"một\", \"hai\", \"ba\", \"bốn\", \"năm\", \"sáu\", \"bảy\", \"tám\", \"chín\"];\r\n            function readThreeDigits(num) {\r\n                let result = \"\";\r\n                const hundred = Math.floor(num / 100);\r\n                const ten = Math.floor((num % 100) / 10);\r\n                const unit = num % 10;\r\n                if (hundred > 0) {\r\n                    result += numbers[hundred] + \" trăm \";\r\n                    if (ten === 0 && unit > 0) {\r\n                        result += \"lẻ \";\r\n                    }\r\n                }\r\n                if (ten > 1) {\r\n                    result += numbers[ten] + \" mươi \";\r\n                    if (unit === 1) {\r\n                        result += \"mốt \";\r\n                    } else if (unit === 5) {\r\n                        result += \"lăm \";\r\n                    } else if (unit > 0) {\r\n                        result += numbers[unit] + \" \";\r\n                    }\r\n                } else if (ten === 1) {\r\n                    result += \"mười \";\r\n                    if (unit === 1) {\r\n                        result += \"một \";\r\n                    } else if (unit === 5) {\r\n                        result += \"lăm \";\r\n                    } else if (unit > 0) {\r\n                        result += numbers[unit] + \" \";\r\n                    }\r\n                } else if (ten === 0 && unit > 0) {\r\n                    result += numbers[unit] + \" \";\r\n                }\r\n                return result.trim();\r\n            }\r\n            function readNumber(num) {\r\n                if (num === 0) return numbers[0];\r\n                let result = \"\";\r\n                let i = 0;\r\n                while (num > 0) {\r\n                    const segment = num % 1000;\r\n                    if (segment > 0) {\r\n                        const segmentInWords = readThreeDigits(segment);\r\n                        result = segmentInWords + \" \" + units[i] + \" \" + result;\r\n                    }\r\n                    num = Math.floor(num / 1000);\r\n                    i++;\r\n                }\r\n                return result.trim();\r\n            }\r\n            if (number == 0) return \"Không đồng\";\r\n            return readNumber(number) + \" đồng\";\r\n        } let amount = this.EditForm.Entity.Amount;\r\n        if (amount !== undefined && amount !== null) {\r\n            let amountText = convertNumberToWords(amount);\r\n            amountText = amountText.charAt(0).toUpperCase() + amountText.slice(1);\r\n            this.EditForm.Entity.AmountText = amountText.trim();\r\n        } else {\r\n            this.EditForm.Entity.AmountText = \"\";\r\n        }\r\n        this.EditForm.UpdateView(false, false, \"AmountText\");\r\n        return null;\r\n    },\r\n    CalcPrice: function (com, entity) {\r\n        entity.Quantity = this.Decimal(entity.Quantity || 0);\r\n        entity.Amount = this.Decimal(entity.Amount || 0);\r\n        entity.TotalAmount = (entity.Quantity || this.Decimal(0)).times(entity.Amount || this.Decimal(0));\r\n        if (this.Decimal(entity.Vat || 0).isNegative()) {\r\n            entity.AmountTax = this.Decimal(entity.Vat).abs();\r\n        } else {\r\n            entity.AmountTax = (entity.TotalAmount).times(this.Decimal(entity.Vat || 0).div(100));\r\n        }\r\n        entity.TotalAmountTax = entity.TotalAmount.plus(entity.AmountTax);\r\n        com.Parent.UpdateView(false);\r\n    },\r\n    CalcUnitPrice: function (com, entity) {\r\n        entity.IsManual = true;\r\n        entity.Quantity = this.Decimal(entity.Quantity || 0);\r\n        entity.TotalAmountTax = this.Decimal(entity.TotalAmountTax || 0);\r\n        if (this.Decimal(entity.Vat || 0).isNegative()) {\r\n            entity.AmountTax = this.Decimal(entity.Vat).abs();\r\n            entity.TotalAmount = entity.TotalAmountTax.minus(entity.AmountTax);\r\n        } else {\r\n            entity.TotalAmount = entity.TotalAmountTax.div(this.Decimal(1).plus(this.Decimal(entity.Vat || 0).div(100)));\r\n            entity.AmountTax = entity.TotalAmount.times(this.Decimal(entity.Vat || 0).div(100));\r\n        }\r\n        entity.Amount = entity.TotalAmount.div(entity.Quantity || this.Decimal(1));\r\n        com.Parent.UpdateView(false);\r\n    },\r\n    CalcTotalAmount: function (com, entity) {\r\n        if (com.Item && com.Item.length > 0) {\r\n            debugger;\r\n            const totalAmount = com.Item.reduce((acc, x) => {\r\n                const total = this.Decimal(x.Entity.TotalAmount || 0);\r\n                return acc.plus(total);\r\n            }, this.Decimal(0));\r\n            this.EditForm.Entity.Amount = totalAmount;\r\n            this.EditForm.UpdateView(false, false, \"Amount\");\r\n            this.ToWords();\r\n        }\r\n        else {\r\n            this.EditForm.Entity.Amount = this.this.Decimal(0);\r\n            this.EditForm.UpdateView(false, false, \"Amount\");\r\n            this.ToWords();\r\n        }\r\n    },\r\n    DeleteDetail: async function (element, rows) {\r\n        var gridview = this.EditForm.FirstCom(\"VoucherDetail\");\r\n        var entity = gridview.Item.map(x => x.Entity);\r\n        this.EditForm.CalcTotalAmount(gridview, entity)\r\n    },\r\n    CreateRP: function () {\r\n        if (this.EditForm.Entity.PaymentAccId) {\r\n            this.OpenPopup(\"payment-accounting-editor\", { Id: this.EditForm.Entity.PaymentAccId }, true);\r\n            return;\r\n        }\r\n        var voucher = JSON.parse(JSON.stringify(this.EditForm.Entity));\r\n        voucher.Id = this.Uuid7.NewGuid();\r\n        voucher.IsDescription = true;\r\n        voucher.AdvId = this.EditForm.Entity.Id;\r\n        voucher.Code = null;\r\n        voucher.ActionId = 2;\r\n        voucher.VoucherTypeId = 15;\r\n        voucher.FeeTypeId = \"1\";\r\n        voucher.InsertedBy = this.Token.UserId;\r\n        voucher.TypeId = 6;\r\n        voucher.ProgressId = 1;\r\n        voucher.IsPaid = true;\r\n        voucher.UserApprovedIds = null;\r\n        voucher.IsMultiple = true;\r\n        voucher.InvoiceDate = null;\r\n        voucher.PaidDate = this.dayjs().format('YYYY-MM-DDTHH:mm:ss');\r\n        voucher.PostDate = this.dayjs().format('YYYY-MM-DDTHH:mm:ss');\r\n        voucher.VoucherDate = this.dayjs().format('YYYY-MM-DDTHH:mm:ss');\r\n        voucher.VendorId = this.EditForm.Entity.UserId;\r\n        voucher.PartnerId = this.EditForm.Entity.UserId;\r\n        voucher.CompanyId = this.EditForm.Entity.UserId;\r\n        voucher.CompanyAddress = this.EditForm.Entity.User ? this.EditForm.Entity.User.Address : null;\r\n        voucher.VendorName = this.EditForm.Entity.User ? this.EditForm.Entity.User.FullName : null;\r\n        voucher.Person = this.EditForm.Entity.User ? this.EditForm.Entity.User.FullName : null;\r\n        voucher.ReferencesIds = this.EditForm.Entity.Code;\r\n        var gridParent = this.EditForm.ChildCom.find(x => x.Meta.FieldName == \"VoucherDetail\");\r\n        var voucherDetail = JSON.parse(JSON.stringify(gridParent.Item.map(x => x.Entity)));\r\n        if (voucherDetail && voucherDetail.length == 0) {\r\n            voucherDetail.push({\r\n                Id: this.Uuid7.NewGuid(),\r\n                InsertedBy: this.Token.UserId,\r\n                DescriptionIdText: voucher.Description,\r\n                Quantity: this.Decimal(1),\r\n                Amount: this.Decimal(voucher.Amount),\r\n                CurrencyId: voucher.CurrencyId,\r\n                ExchangeRateINV: this.Decimal(1)\r\n            });\r\n            voucherDetail.forEach(item => {\r\n                item.Id = this.Uuid7.NewGuid();\r\n                item.InsertedBy = this.Token.UserId;\r\n                item.DescriptionIdText = item.Description ? item.Description.Name : null;\r\n                var exUSD = this.Decimal(JSON.parse(localStorage.getItem(\"ExchangeRateVND\"))[\"USD\"]);\r\n                item.ExchangeRateINV = this.Decimal(JSON.parse(localStorage.getItem(\"ExchangeRateVND\"))[this.Entity.CurrencyCode]);\r\n                item.ExchangeRateINV2 = item.ExchangeRateINV.div(exUSD);\r\n                var vat = this.Decimal(item.Vat || 0);\r\n                item.Quantity = this.Decimal(item.Quantity);\r\n                item.TotalAmount = item.Amount;\r\n                item.TotalAmountTax = item.Amount;\r\n                item.ExAmount = this.Decimal(item.Amount).times(item.ExchangeRateINV).toDP(0);\r\n                item.ExTotalAmount = this.Decimal(item.ExAmount).times(item.Quantity).toDP(0);\r\n                if (vat.isNegative()) {\r\n                    item.ExAmountTax = this.Decimal(item.Vat).abs().times(item.ExchangeRateINV).toDP(0);\r\n                } else {\r\n                    item.ExAmountTax = this.Decimal(item.ExTotalAmount).times(vat.div(this.Decimal(100))).toDP(0);\r\n                }\r\n                item.ExTotalAmountTax = this.Decimal(item.ExTotalAmount).plus(item.ExAmountTax).toDP(0);\r\n                item.IsManual = true;\r\n                item.IsLock = false;\r\n                item.NoSubmit = false;\r\n                item.IsInvoice = false;\r\n                item.IsPayment = false;\r\n                item.IsInvoice = false;\r\n                item.IsPaymentAcc = false;\r\n                item.IsDebtAcc = false;\r\n                item.IsPaid = false;\r\n            });\r\n        }\r\n        else {\r\n            var check = [...new Set(gridParent.Item.map(x => x.Entity.InvoiceNo).filter(x => x != null))];\r\n            voucher.Notes = null;\r\n            voucher.InvNotes = this.EditForm.Entity.Notes;\r\n            voucherDetail.forEach(item => {\r\n                item.Id = this.Uuid7.NewGuid();\r\n                item.InsertedBy = this.Token.UserId;\r\n                item.DescriptionIdText = item.Description ? item.Description.Name : null;\r\n                item.HblNo = item.Shipment ? item.Shipment.HblNo : null;\r\n                item.FileNo = item.File ? item.File.Code : null;\r\n                item.ExchangeRateINV = this.Decimal(item.ExchangeRateINV || item.ExchangeRateVND);\r\n                var vat = this.Decimal(item.Vat || 0);\r\n                item.Quantity = this.Decimal(item.Quantity);\r\n                item.Amount = this.Decimal(item.Amount);\r\n                item.ExAmount = this.Decimal(item.Amount).times(item.ExchangeRateINV).toDP(0);\r\n                item.ExTotalAmount = this.Decimal(item.ExAmount).times(item.Quantity).toDP(0);\r\n                if (vat.isNegative()) {\r\n                    item.ExAmountTax = vat.abs().times(item.ExchangeRateINV).toDP(0);\r\n                } else {\r\n                    item.ExAmountTax = this.Decimal(item.ExTotalAmount).times(vat.div(this.Decimal(100))).toDP(0);\r\n                }\r\n                item.ExTotalAmountTax = this.Decimal(item.ExTotalAmount).plus(item.ExAmountTax);\r\n                item.IsManual = true;\r\n                item.IsLock = false;\r\n                item.NoSubmit = false;\r\n                item.IsInvoice = false;\r\n                item.IsPayment = false;\r\n                item.IsInvoice = false;\r\n                item.IsPaymentAcc = false;\r\n                item.IsDebtAcc = false;\r\n                item.IsPaid = false;\r\n            });\r\n        }\r\n        voucher.VoucherDetail = voucherDetail;\r\n        if (voucher.VoucherDetail && voucher.VoucherDetail.length > 0) {\r\n            const calculateTotal = (field) => voucher.VoucherDetail.reduce((acc, x) => acc.plus(this.Decimal(x[field] || 0)), this.Decimal(0));\r\n            if (voucher.IsMultiple) {\r\n                const totalAmount = calculateTotal(\"ExTotalAmount\").toDP(0);\r\n                const amountTax = calculateTotal(\"ExAmountTax\").toDP(0);\r\n                voucher.TotalAmountTax = totalAmount.plus(amountTax);\r\n                voucher.TotalAmount = totalAmount;\r\n                voucher.AmountTax = amountTax;\r\n            }\r\n            else {\r\n                const totalAmount = calculateTotal(\"ExTotalAmount\").toDP(0);\r\n                const amountTax = (totalAmount.times(voucher.VatInv || new this.Decimal(0)).div(100)).toDP(0);\r\n                const totalAmountTax = totalAmount.plus(amountTax);\r\n                voucher.TotalAmountTax = totalAmountTax;\r\n                voucher.TotalAmount = totalAmount;\r\n                voucher.AmountTax = amountTax;\r\n            }\r\n        }\r\n        else {\r\n            voucher.TotalAmountTax = this.Decimal(0);\r\n            voucher.TotalAmount = this.Decimal(0);\r\n            voucher.AmountTax = this.Decimal(0);\r\n        }\r\n        this.OpenPopup(\"payment-accounting-editor\", voucher);\r\n    }\r\n};",
    "Events": "{\r\n    \"onsave\": \"OnSave\",\r\n    \"onsaveadd\": \"OnSaveAdd\",\r\n    \"saved\": \"UpdateParent\",\r\n    \"onsend\": \"OnSend\"\r\n}",
    "EntityId": "Voucher",
    "Active": true,
    "ComponentGroup": [
        {
            "Id": "01939c4c-c0d5-75c6-9958-0401497a5a11",
            "FieldName": "Container",
            "Order": 1,
            "ComponentType": "Section",
            "ClassName": "scroll-content",
            "XxlCol": 12,
            "Active": true,
            "DisabledExp": "[2, 3].includes(this.EditForm.Entity.StatusId)"
        },
        {
            "Id": "01939c4c-c11d-757a-802f-f3c9f1e204eb",
            "FieldName": "Left",
            "Order": 1,
            "ComponentType": "Section",
            "ClassName": "card-body",
            "XxlCol": 12,
            "Active": true,
            "ParentId": "01939c4c-c0d5-75c6-9958-0401497a5a11",
            "XxlOuterColumn": 12,
            "Components": [
                {
                    "Id": "01939c4c-c15b-735b-97b1-716631f0a847",
                    "FieldName": "Code",
                    "Order": 3,
                    "ComponentType": "Input",
                    "Column": 4,
                    "Label": "Ref No",
                    "ShowLabel": true,
                    "Active": true
                },
                {
                    "Id": "01939c4c-c19d-7244-b604-ec00aa511be5",
                    "FieldName": "VoucherDate",
                    "Order": 6,
                    "ComponentType": "Datepicker",
                    "Column": 4,
                    "Label": "Post Date",
                    "ShowLabel": true,
                    "Active": true
                },
                {
                    "Id": "01939c62-01bc-70f8-8ce5-98016b27fdb9",
                    "FieldName": "UserId",
                    "Order": 1,
                    "ComponentType": "Dropdown",
                    "FormatData": "{FullName}",
                    "PlainText": "Select data",
                    "Column": 4,
                    "Row": 100,
                    "Label": "Name",
                    "ShowLabel": true,
                    "PopulateField": "let employee = this.EditForm.Entity.User || {};\r\nthis.EditForm.Entity.UserCode = (employee.Code || '').trim();\r\nthis.EditForm.Entity.DepartmentId = (employee.DepartmentId || '').trim();\r\nthis.EditForm.Entity.PositionId = (employee.PositionId || '').trim();\r\n\r\nthis.EditForm.UpdateView(false, false, \"UserCode\", \"PositionId\", \"DepartmentId\");\r\nreturn null;",
                    "Active": true,
                    "Query": "{\r\n    \"sql\": \"select ds.* from [User] as ds where (TypeId = 1)\",\r\n    \"total\": \"select count(ds.Id) as total from [User] as ds where (TypeId = 1)\"\r\n}",
                    "RefName": "User",
                    "Template": "[{ \"FieldName\" : \"FullName\", \"Label\" : \"Full Name\", \"ComponentType\" : \"FullName\" },\r\n{ \"FieldName\" : \"NickName\", \"Label\" : \"NickName\", \"ComponentType\" : \"Input\" },\r\n{ \"FieldName\" : \"DepartmentId\", \"Label\" : \"Department\", \"ComponentType\" : \"Dropdown\", \"RefName\":\"MasterData\",\"FormatData\" : \"{Name}\" }]",
                    "OrderBy": "ds.[InsertedDate]"
                },
                {
                    "Id": "01939c67-5652-72b9-a716-5faaeeda7ac1",
                    "FieldName": "DepartmentId",
                    "Order": 4,
                    "ComponentType": "Dropdown",
                    "FormatData": "{Name}",
                    "PlainText": "Select data",
                    "Column": 4,
                    "Row": 100,
                    "Label": "Department",
                    "ShowLabel": true,
                    "Validation": "[{\"Rule\": \"required\", \"Message\": \"{0} is required\"}]",
                    "Active": true,
                    "Query": "{\r\n    \"sql\": \"select ds.* from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name = N'Department Type'\",\r\n    \"total\": \"select count(ds.Id) as total from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name = N'Department Type'\"\r\n}",
                    "RefName": "MasterData",
                    "Template": "[{ \"FieldName\" : \"Name\", \"Label\" : \"Name\", \"ComponentType\" : \"Input\" }]"
                },
                {
                    "Id": "01939c6d-9df1-7207-82fd-2576cf00ba2f",
                    "FieldName": "PositionId",
                    "Order": 5,
                    "ComponentType": "Dropdown",
                    "FormatData": "{Name}",
                    "PlainText": "Select data",
                    "Column": 4,
                    "Row": 100,
                    "Label": "Position",
                    "ShowLabel": true,
                    "Validation": "[{\"Rule\": \"required\", \"Message\": \"{0} is required\"}]",
                    "Active": true,
                    "Query": "{\r\n    \"sql\": \"select ds.* from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name = N'Position Type'\",\r\n    \"total\": \"select count(ds.Id) as total from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name = N'Position Type'\"\r\n}",
                    "RefName": "MasterData",
                    "Template": "[{ \"FieldName\" : \"Name\", \"Label\" : \"Name\", \"ComponentType\" : \"Input\" }]"
                },
                {
                    "Id": "01939c72-3cf0-75ed-ab4a-6bdb96266705",
                    "FieldName": "ActionId",
                    "Order": 11,
                    "ComponentType": "Select",
                    "FormatData": "{Name}",
                    "PlainText": "Select data",
                    "Column": 2,
                    "Row": 50,
                    "Label": "Status",
                    "ShowLabel": true,
                    "Disabled": true,
                    "DefaultVal": "1",
                    "Active": true,
                    "Query": "[\r\n    {\r\n        \"Id\": 0,\r\n        \"Name\": \"<span style='padding: 5px 10px; border-radius: 12px; color: white; background-color: #28a745;'><i class='far fa-check-circle mr-1'></i>Clear</span>\"\r\n    },\r\n    {\r\n        \"Id\": 1,\r\n        \"Name\": \"<span style='padding: 5px 10px; border-radius: 12px; color: white; background-color: #007bff;'><i class='far fa-times-circle mr-1'></i>UnClear</span>\"\r\n    }\r\n]",
                    "Template": "[{ \"FieldName\" : \"Name\", \"Label\" : \"Name\", \"ComponentType\" : \"Input\" }]",
                    "DisabledExp": "return true;"
                },
                {
                    "Id": "01939c72-ef0f-7043-9eae-46e72e626995",
                    "FieldName": "Amount",
                    "Order": 7,
                    "ComponentType": "Number",
                    "Column": 3,
                    "Precision": 2,
                    "Label": "Amount",
                    "ShowLabel": true,
                    "Events": "{\r\n    \"input\": \"ToWords\",\r\n    \"change\": \"CalcTotalAmount\"\r\n}",
                    "Active": true,
                    "GroupTypeId": "00eb142c-0000-0000-8000-2945bf4c2c78"
                },
                {
                    "Id": "01939c74-4448-7465-a627-4e13bbb2c23c",
                    "FieldName": "CurrencyId",
                    "Order": 8,
                    "ComponentType": "Dropdown",
                    "FormatData": "{Code}",
                    "PlainText": "Select data",
                    "Column": 1,
                    "Row": 100,
                    "Label": "Currency",
                    "ShowLabel": true,
                    "DefaultVal": "00e70228-0000-0000-8000-af9d4b995deb",
                    "Active": true,
                    "Query": "{\r\n    \"sql\": \"select ds.* from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name = N'Currency'\",\r\n    \"total\": \"select count(ds.Id) as total from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name = N'Currency'\"\r\n}",
                    "RefName": "MasterData",
                    "Template": "[{ \"FieldName\" : \"Code\", \"Label\" : \"Currency\", \"ComponentType\" : \"Input\" }]",
                    "OrderBy": "ds.Enum asc"
                },
                {
                    "Id": "01939c74-4b70-7560-b679-609e862d6e32",
                    "FieldName": "PaymentMethodId",
                    "Order": 9,
                    "ComponentType": "Dropdown",
                    "FormatData": "{Name}",
                    "PlainText": "Select data",
                    "Column": 2,
                    "Row": 100,
                    "Label": "Method",
                    "ShowLabel": true,
                    "DefaultVal": "1",
                    "Active": true,
                    "Query": "[\r\n    {\r\n        \"Id\": 1,\r\n        \"Name\": \"Bank\"\r\n    },\r\n    {\r\n        \"Id\": 2,\r\n        \"Name\": \"Cash\"\r\n    }\r\n]",
                    "Template": "[{ \"FieldName\" : \"Name\", \"Label\" : \"Name\", \"ComponentType\" : \"Input\" }]"
                },
                {
                    "Id": "01939c75-47b7-7659-bfe9-1185bb06f732",
                    "FieldName": "AutoProgressId",
                    "Order": 11,
                    "ComponentType": "Select",
                    "FormatData": "{Description}",
                    "PlainText": "Select data",
                    "Column": 2,
                    "Row": 50,
                    "Label": "Progress",
                    "ShowLabel": true,
                    "Disabled": true,
                    "DefaultVal": "1",
                    "Active": true,
                    "Query": "[\r\n    {\r\n        \"Id\": 1,\r\n        \"Name\": \"To Do\",\r\n        \"Description\": \"<span style='padding: 5px 8px; border-radius: 10px; color: #fff; background-color: #95a5a6; display: inline-block;'> <i class='fal fa-clipboard-list mr-1'></i> To Do</span>\"\r\n    },\r\n    {\r\n        \"Id\": 2,\r\n        \"Name\": \"In Progress\",\r\n        \"Description\": \"<span style='padding: 5px 8px; border-radius: 10px; color: #fff; background-color: #3498db; display: inline-block;'><i class='fal fa-spinner fa-spin mr-1'></i> In Progress</span>\"\r\n    },\r\n    {\r\n        \"Id\": 3,\r\n        \"Name\": \"Complete\",\r\n        \"Description\": \"<span style='padding: 5px 8px; border-radius: 10px; color: #fff; background-color: #28a745; display: inline-block;'><i class='fal fa-check-circle mr-1'></i> Complete</span>\"\r\n    },\r\n    {\r\n        \"Id\": 4,\r\n        \"Name\": \"Decline\",\r\n        \"Description\": \"<span style='padding: 5px 8px; border-radius: 10px; color: #fff; background-color: #e74c3c; display: inline-block;'><i class='fal fa-times-circle mr-1'></i> Cancel</span>\"\r\n    }\r\n]",
                    "Template": "[{ \"FieldName\" : \"Description\", \"Label\" : \"Name\", \"ComponentType\" : \"Input\" }]",
                    "DisabledExp": "return true;"
                },
                {
                    "Id": "01939c77-83a0-7788-8b30-43c6170d02b8",
                    "FieldName": "AmountText",
                    "Order": 12,
                    "ComponentType": "Input",
                    "Column": 8,
                    "Row": 50,
                    "Label": "To Words",
                    "ShowLabel": true,
                    "Disabled": true,
                    "Active": true
                },
                {
                    "Id": "0193a0b7-a86f-77ff-a8ac-e7a2909ad8e0",
                    "FieldName": "DeadlineDate",
                    "Order": 10,
                    "ComponentType": "Datepicker",
                    "Column": 2,
                    "Row": 50,
                    "Label": "Reimbursement Date",
                    "ShowLabel": true,
                    "Active": true
                },
                {
                    "Id": "0193a0e2-b17b-726a-99d4-d8c6cf7c39a5",
                    "FieldName": "AttachedFile",
                    "Order": 13,
                    "ComponentType": "FileUpload",
                    "Column": 4,
                    "RowSpan": 2,
                    "Row": 6,
                    "Label": "Fille Attach",
                    "ShowLabel": true,
                    "Active": true,
                    "IsMultiple": true
                },
                {
                    "Id": "0193a0e2-b17b-726a-99d4-dde4a81aef6c",
                    "FieldName": "Description",
                    "Order": 14,
                    "ComponentType": "Textarea",
                    "Column": 8,
                    "RowSpan": 2,
                    "Row": 3,
                    "Label": "Description",
                    "ShowLabel": true,
                    "Validation": "[{\"Rule\": \"required\", \"Message\": \"{0} is required\"}]",
                    "Active": true
                },
                {
                    "Id": "0193a0e4-8781-73f8-965e-f91fb3d59ea7",
                    "FieldName": "UserCode",
                    "Order": 2,
                    "ComponentType": "Input",
                    "Column": 4,
                    "Row": 50,
                    "Label": "Employee No",
                    "ShowLabel": true,
                    "Active": true,
                    "Query": "{\r\n    \"sql\": \"select ds.* from [User] as ds where (TypeId = 1)\",\r\n    \"total\": \"select count(ds.Id) as total from [User] as ds where (TypeId = 1)\"\r\n}",
                    "RefName": "User",
                    "OrderBy": "ds.[InsertedDate]"
                },
                {
                    "Id": "0193f63e-8ee0-701d-a43d-c802d5d33847",
                    "FieldName": "UserApprovedIds",
                    "Order": 15,
                    "ComponentType": "Dropdown",
                    "FormatData": "{FullName}",
                    "PlainText": "Select data",
                    "Column": 4,
                    "Row": 100,
                    "Label": "Checked By",
                    "ShowLabel": true,
                    "Disabled": true,
                    "Active": true,
                    "Query": "{\r\n    \"sql\": \"select ds.* from [User] as ds where (TypeId = 1)\",\r\n    \"total\": \"select count(ds.Id) as total from [User] as ds where (TypeId = 1)\"\r\n}",
                    "RefName": "User",
                    "Template": "[{ \"FieldName\" : \"FullName\", \"Label\" : \"Full Name\", \"ComponentType\" : \"FullName\" },\r\n{ \"FieldName\" : \"NickName\", \"Label\" : \"NickName\", \"ComponentType\" : \"Input\" },\r\n{ \"FieldName\" : \"DepartmentId\", \"Label\" : \"Department\", \"ComponentType\" : \"Dropdown\", \"RefName\":\"MasterData\",\"FormatData\" : \"{Name}\" }]",
                    "DisabledExp": "true",
                    "IsMultiple": true
                }
            ]
        },
        {
            "Id": "01939c4c-c753-7588-9461-c666160c7e2a",
            "FieldName": "Detail",
            "Order": 10,
            "ComponentType": "Section",
            "Label": "Details Advance",
            "ClassName": "card-body",
            "XxlCol": 12,
            "Active": true,
            "ParentId": "01939c4c-c0d5-75c6-9958-0401497a5a11",
            "TabGroup": "Other charges",
            "XxlOuterColumn": 12,
            "IsDropDown": true,
            "Components": [
                {
                    "Id": "01939c4c-c7bd-7638-b6d3-9695d0ea0851",
                    "FieldName": "VoucherDetail",
                    "Order": 2,
                    "ComponentType": "GridView",
                    "Column": 12,
                    "Row": 200,
                    "Label": "Voucher Detail",
                    "ClassName": "sticky",
                    "Events": "{\r\n    \"change\": \"CalcTotalAmount\",\r\n    \"AfterDeleted\": \"DeleteDetail\"\r\n}",
                    "DefaultVal": "{\r\n    \"VoucherId\": this.EditForm.Entity.Id\r\n}",
                    "Active": true,
                    "CanAdd": true,
                    "Query": "{\r\n    \"sql\": \"select * from VoucherDetail as ds where VoucherId = '{VoucherId}'\",\r\n    \"total\": \"select count(ds.Id) as total from VoucherDetail as ds where VoucherId = '{VoucherId}'\"\r\n}",
                    "RefName": "VoucherDetail",
                    "PreQuery": "{\r\n    \"VoucherId\": this.EditForm.Entity.Id\r\n}",
                    "Editable": true,
                    "OrderBy": "ds.[InsertedDate] asc"
                }
            ]
        },
        {
            "Id": "01939c4c-c7f8-75df-a7fc-bc0033241805",
            "FieldName": "Center",
            "Order": 1,
            "ComponentType": "Section",
            "ClassName": "title-option",
            "Style": "margin-bottom: 0px;padding: 0;",
            "XxlCol": 12,
            "Active": true
        },
        {
            "Id": "01939c4c-c876-736b-8db1-8de8e1bce38a",
            "FieldName": "Button",
            "Order": 1,
            "ComponentType": "Section",
            "ClassName": "ribbon-group",
            "Style": "margin-bottom: 0px;padding: 0;",
            "XxlCol": 12,
            "Active": true,
            "Components": [
                {
                    "Id": "01939c4c-c954-749f-8f00-9b241b2fc68d",
                    "FieldName": "btnSave",
                    "Order": 5,
                    "ComponentType": "Button",
                    "Column": 1,
                    "Label": "Save",
                    "Icon": "fal fa-save",
                    "ClassName": "btn detail-button primary",
                    "HotKey": "Ctrl-S",
                    "Events": "{ \"click\" : \"SavePatch\" }",
                    "Active": true
                },
                {
                    "Id": "0193eed4-c671-773e-bbf8-31f6cb2c265b",
                    "FieldName": "btnSendEntity",
                    "Order": 2,
                    "ComponentType": "Button",
                    "Column": 1,
                    "Label": "Send",
                    "Icon": "far fa-share-all",
                    "ClassName": "btn detail-button secondary-outline",
                    "Events": "{ \"click\" : \"SendEntity\" }",
                    "Active": true,
                    "ShowExp": "(this.Entity.StatusId == 1 || this.Entity.StatusId == 4) && this.Token.UserId == this.Entity.InsertedBy && !this.Entity.Id.startsWith('-')"
                },
                {
                    "Id": "0193eed4-c671-773e-bbf8-374b51ba0d51",
                    "FieldName": "btnDecline",
                    "Order": 3,
                    "ComponentType": "Button",
                    "Column": 1,
                    "Label": "Decline",
                    "Icon": "fal fa-comment-alt-slash",
                    "ClassName": "btn detail-button secondary-outline",
                    "Events": "{ \"click\" : \"DeclineEntity\" }",
                    "Active": true,
                    "ShowExp": "this.Entity.StatusId == 2 && this.Entity.UserApprovedIds.includes(this.Token.UserId);"
                },
                {
                    "Id": "0193eed4-c671-773e-bbf8-38f5b6611120",
                    "FieldName": "btnApprove",
                    "Order": 4,
                    "ComponentType": "Button",
                    "Column": 1,
                    "Label": "Approve",
                    "Icon": "fal fa-check-circle",
                    "ClassName": "btn detail-button secondary-outline",
                    "Events": "{ \"click\" : \"ApprovedEntity\" }",
                    "Active": true,
                    "ShowExp": "this.Entity.StatusId == 2 && this.Entity.UserApprovedIds.includes(this.Token.UserId);"
                },
                {
                    "Id": "0193f8b3-2171-77bf-b0a8-49912dd04d26",
                    "FieldName": "btnPrint",
                    "Order": 0,
                    "ComponentType": "Pdf",
                    "Column": 1,
                    "Label": "Print",
                    "Icon": "fal fa-print",
                    "ClassName": "btn detail-button secondary-outline",
                    "Events": "{\r\n    \"click\": \"PrintPdf\"\r\n}",
                    "Active": true,
                    "Query": "select MasterData.Name as CustomerType,de.Name as Department,Partner.Address AS addresscus,sales.PhoneNumber AS telsales,\r\nsales.Email AS email,sales.NickName AS nickname,de.Name as Department,ct.JobTitles AS JobTitles ,\r\nPartner.CompanyName AS CusNameEN,\r\nct.ContactName AS ContactName ,ct.ContactPhoneNumber AS telcus, \r\n(SELECT STRING_AGG(CONCAT(cont.Name, ' x ', Round(EntityContainer.Quantity,0)), ' & ') as ContainerText\r\nFROM EntityContainer\r\nLEFT JOIN MasterData cont ON EntityContainer.ContainerTypeId = cont.Id\r\nWHERE EntityId = '{Id}') as ContainerText\r\nfrom Inquiry\r\nleft join Partner on Inquiry.CustomerId = Partner.Id\r\nleft join MasterData on Partner.CustomerTypeId = MasterData.Id\r\nLEFT JOIN PartnerContact ct ON ct.PartnerId = Partner.Id\r\nLEFT JOIN [USER] sales on dbo.Partner.SaleId = sales.Id \r\nleft join [User] u on u.Id = '{TokenUserId}'\r\nleft join MasterData de on de.Id = u.DepartmentId\r\nwhere Inquiry.Id = '{Id}'\r\n\r\nselect concat(pol.Name,pod.Name) as Level1,detail.GroupFee, pol.Name as Pol,pod.Name as Pod,fee.Name as Description,otherUnit.Name as Unit,curr.Code as Curr,\r\n(select sum(isnull(Rate,0))\r\nfrom InquiryDetail detail2\r\nleft join MasterData unit on detail2.UnitId = unit.Id\r\nwhere InquiryId = '{Id}' \r\nand unit.Name like N'%LCL%'\r\nand detail2.PolId = detail.PolId \r\nand detail2.PodId = detail.PodId\r\nand detail2.DescriptionId = detail.DescriptionId)+ \r\nisnull((select sum(isnull(Rate,0))\r\nfrom InquiryDetail detail2\r\nleft join MasterData unit on detail2.UnitId = unit.Id\r\nwhere InquiryId = '{Id}' \r\nand unit.Name like N'%ALL%'\r\nand detail2.PolId = detail.PolId \r\nand detail2.PodId = detail.PodId\r\nand detail2.DescriptionId = detail.DescriptionId),0) as LCL,\r\nRound((select sum(isnull(Rate,0))\r\nfrom InquiryDetail detail2\r\nleft join MasterData unit on detail2.UnitId = unit.Id\r\nwhere InquiryId = '{Id}' \r\nand unit.Name like N'%20%'\r\nand detail2.PolId = detail.PolId \r\nand detail2.PodId = detail.PodId\r\nand detail2.DescriptionId = detail.DescriptionId)+ \r\nisnull((select sum(isnull(Rate,0))\r\nfrom InquiryDetail detail2\r\nleft join MasterData unit on detail2.UnitId = unit.Id\r\nwhere InquiryId = '{Id}' \r\nand unit.Name like N'%ALL%'\r\nand detail2.PolId = detail.PolId \r\nand detail2.PodId = detail.PodId\r\nand detail2.DescriptionId = detail.DescriptionId),0),{CTotalPrice}) as Cont20,\r\n(select sum(isnull(Rate,0))\r\nfrom InquiryDetail detail2\r\nleft join MasterData unit on detail2.UnitId = unit.Id\r\nwhere InquiryId = '{Id}' \r\nand unit.Name like N'%40%'\r\nand detail2.PolId = detail.PolId \r\nand detail2.PodId = detail.PodId\r\nand detail2.DescriptionId = detail.DescriptionId)\r\n+ \r\nisnull((select sum(isnull(Rate,0))\r\nfrom InquiryDetail detail2\r\nleft join MasterData unit on detail2.UnitId = unit.Id\r\nwhere InquiryId = '{Id}' \r\nand unit.Name like N'%ALL%'\r\nand detail2.PolId = detail.PolId \r\nand detail2.PodId = detail.PodId\r\nand detail2.DescriptionId = detail.DescriptionId),0)+ \r\nisnull((select sum(isnull(Rate,0))\r\nfrom InquiryDetail detail2\r\nleft join MasterData unit on detail2.UnitId = unit.Id\r\nwhere InquiryId = '{Id}' \r\nand unit.Name like N'%ALL%'\r\nand detail2.PolId = detail.PolId \r\nand detail2.PodId = detail.PodId\r\nand detail2.DescriptionId = detail.DescriptionId),0) as Cont40,\r\n(select sum(isnull(Rate,0))\r\nfrom InquiryDetail detail2\r\nleft join MasterData unit on detail2.UnitId = unit.Id\r\nwhere InquiryId = '{Id}' \r\nand unit.Name like N'%45%'\r\nand detail2.PolId = detail.PolId \r\nand detail2.PodId = detail.PodId\r\nand detail2.DescriptionId = detail.DescriptionId)\r\n+ \r\nisnull((select sum(isnull(Rate,0))\r\nfrom InquiryDetail detail2\r\nleft join MasterData unit on detail2.UnitId = unit.Id\r\nwhere InquiryId = '{Id}' \r\nand unit.Name like N'%ALL%'\r\nand detail2.PolId = detail.PolId \r\nand detail2.PodId = detail.PodId\r\nand detail2.DescriptionId = detail.DescriptionId),0) as Cont45\r\nfrom InquiryDetail detail\r\nleft join Terminal pol on detail.PolId = pol.Id\r\nleft join Terminal pod on detail.PodId = pod.Id\r\nleft join MasterData curr on detail.CurrencyId = curr.Id\r\nleft join FeeType fee on detail.DescriptionId = fee.Id\r\nleft join MasterData unit on detail.UnitId = unit.Id\r\nleft join MasterData groupFee on fee.GroupId = groupFee.Id\r\nleft join MasterData otherUnit on detail.OtherUnitId = otherUnit.Id\r\nwhere OtherFee = 1 and InquiryId = '{Id}'\r\ngroup by pol.Name,detail.PolId,pod.Name,detail.PodId,detail.CurrencyId,curr.Code,detail.DescriptionId,fee.Name,otherUnit.Name,detail.GroupFee,groupFee.Enum\r\nORDER BY concat(pol.Name,pod.Name),groupFee.Enum ASC",
                    "Template": "<table style=\"width: 100.054%; border-collapse: collapse; height: 320.01px;\" border=\"0\"><colgroup><col style=\"width: 16.5486%;\"><col style=\"width: 1.31338%;\"><col style=\"width: 45.9684%;\"><col style=\"width: 1.31338%;\"><col style=\"width: 10.3757%;\"><col style=\"width: 10.9011%;\"><col style=\"width: 1.31338%;\"><col style=\"width: 12.2145%;\"></colgroup>\n<tbody>\n<tr style=\"height: 0px;\">\n<td rowspan=\"3\"><span style=\"font-size: 10pt;\">&nbsp;${CLogo}</span></td>\n<td rowspan=\"3\"><span style=\"font-size: 10pt;\">&nbsp;</span></td>\n<td style=\"text-align: center;\" colspan=\"6\" rowspan=\"3\"><span style=\"font-size: 10pt;\"><strong>${CCompanyName}</strong><br>Address: ${CAddress}<br>Hotline:<a href=\"tel:19003133\">1900 3133<br></a>Email:&nbsp;</span></td>\n</tr>\n<tr style=\"height: 0px;\"></tr>\n<tr style=\"height: 97px;\"></tr>\n<tr style=\"height: 25px;\">\n<td>&nbsp;</td>\n<td>&nbsp;</td>\n<td style=\"text-align: center;\" colspan=\"3\" rowspan=\"3\">\n<div style=\"font-size: 28pt; min-width: 400px; display: inline-block; border-radius: 29px; border: 1px solid rgb(0, 0, 0); text-align: center; font-weight: 600;\">Quotation</div>\n</td>\n<td><span style=\"font-size: 9pt;\">Quote No</span></td>\n<td><span style=\"font-size: 9pt;\">:</span></td>\n<td><span style=\"font-size: 9pt; color: #e03e2d;\">${Quo No}</span></td>\n</tr>\n<tr style=\"height: 25px;\">\n<td>&nbsp;</td>\n<td>&nbsp;</td>\n<td><span style=\"font-size: 9pt;\">Created At</span></td>\n<td><span style=\"font-size: 9pt;\">:</span></td>\n<td><span style=\"font-size: 9pt;\">${Quo Date}</span></td>\n</tr>\n<tr style=\"height: 25.0104px;\">\n<td>&nbsp;</td>\n<td>&nbsp;</td>\n<td><span style=\"font-size: 9pt;\">Valid Until</span></td>\n<td><span style=\"font-size: 9pt;\">:</span></td>\n<td><span style=\"font-size: 9pt;\">${Validity}</span></td>\n</tr>\n<tr style=\"height: 24px;\">\n<td class=\"xl67\" style=\"width: 65px; text-align: left; vertical-align: top;\" width=\"130\" height=\"24\"><span style=\"font-size: 10pt;\"><strong>Company Name</strong></span></td>\n<td style=\"width: 65px; text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\"><strong>:</strong></span></td>\n<td style=\"text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\">${CusNameEN}</span></td>\n<td style=\"text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\"><strong>&nbsp;</strong></span></td>\n<td style=\"text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\"><strong>From</strong></span></td>\n<td style=\"text-align: left; vertical-align: top;\" colspan=\"3\">${nickname}</td>\n</tr>\n<tr style=\"height: 24px;\">\n<td class=\"xl67\" style=\"width: 65px; text-align: left; vertical-align: top;\" width=\"130\" height=\"24\"><span style=\"font-size: 10pt;\"><strong>Address</strong></span></td>\n<td style=\"width: 65px; text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\"><strong>:</strong></span></td>\n<td style=\"text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\">${addresscus}</span></td>\n<td style=\"width: 30.5px; text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\"><strong>&nbsp;</strong></span></td>\n<td class=\"xl67\" style=\"width: 15.25px; text-align: left; vertical-align: top;\" width=\"61\" height=\"24\"><span style=\"font-size: 10pt;\"><strong>Dept</strong></span></td>\n<td style=\"text-align: left; vertical-align: top;\" colspan=\"3\"><span style=\"font-size: 10pt;\">${Department}</span></td>\n</tr>\n<tr style=\"height: 24px;\">\n<td class=\"xl67\" style=\"width: 65px; text-align: left; vertical-align: top;\" width=\"130\" height=\"24\"><span style=\"font-size: 10pt;\"><strong>To</strong></span></td>\n<td style=\"width: 65px; text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\"><strong>:</strong></span></td>\n<td style=\"text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\">${ContactName}</span></td>\n<td style=\"width: 30.5px; text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\"><strong>&nbsp;</strong></span></td>\n<td class=\"xl67\" style=\"width: 15.25px; text-align: left; vertical-align: top;\" width=\"61\" height=\"24\"><span style=\"font-size: 10pt;\"><strong>Tel</strong></span></td>\n<td style=\"text-align: left; vertical-align: top;\" colspan=\"3\"><span style=\"font-size: 10pt;\">${telsales}</span></td>\n</tr>\n<tr style=\"height: 24px;\">\n<td class=\"xl67\" style=\"width: 65px; text-align: left; vertical-align: top;\" width=\"130\" height=\"24\"><span style=\"font-size: 10pt;\"><strong>Title</strong></span></td>\n<td style=\"width: 65px; text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\"><strong>:</strong></span></td>\n<td style=\"text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\">${JobTitles}</span></td>\n<td style=\"width: 30.5px; text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\"><strong>&nbsp;</strong></span></td>\n<td class=\"xl67\" style=\"width: 15.25px; text-align: left; vertical-align: top;\" width=\"61\" height=\"24\"><span style=\"font-size: 10pt;\"><strong>Email</strong></span></td>\n<td style=\"text-align: left; vertical-align: top;\" colspan=\"3\"><span style=\"font-size: 10pt;\">${email}</span></td>\n</tr>\n<tr style=\"height: 24px;\">\n<td class=\"xl67\" style=\"width: 65px; text-align: left; vertical-align: top;\" width=\"130\" height=\"24\"><span style=\"font-size: 10pt;\"><strong>Tel</strong></span></td>\n<td style=\"width: 65px; text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\"><strong>:</strong></span></td>\n<td style=\"text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\">${telcus}</span></td>\n<td style=\"text-align: left; vertical-align: top;\">&nbsp;</td>\n<td style=\"text-align: left; vertical-align: top;\">&nbsp;</td>\n<td style=\"text-align: left; vertical-align: top;\">&nbsp;</td>\n<td style=\"text-align: left; vertical-align: top;\">&nbsp;</td>\n<td style=\"text-align: left; vertical-align: top;\">&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 65px; text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\"><strong>&nbsp;</strong></span></td>\n<td style=\"width: 65px; text-align: left; vertical-align: top;\"><span style=\"font-size: 10pt;\"><strong>&nbsp;</strong></span></td>\n<td style=\"text-align: left; vertical-align: top;\">&nbsp;</td>\n<td style=\"text-align: left; vertical-align: top;\">&nbsp;</td>\n<td style=\"text-align: left; vertical-align: top;\">&nbsp;</td>\n<td style=\"text-align: left; vertical-align: top;\">&nbsp;</td>\n<td style=\"text-align: left; vertical-align: top;\">&nbsp;</td>\n<td style=\"text-align: left; vertical-align: top;\">&nbsp;</td>\n</tr>\n</tbody>\n</table>\n<table class=\"dashed\" style=\"border-collapse: collapse; width: 100%; height: 38.0208px; margin-left: 0px; border: 0.01px solid rgb(126, 140, 141); margin-right: auto;\" border=\"1\"><colgroup><col style=\"width: 12.2363%;\"><col style=\"width: 13.5532%;\"><col style=\"width: 37.7632%;\"><col style=\"width: 11.3158%;\"><col style=\"width: 9.21053%;\"><col style=\"width: 15.9211%;\"></colgroup>\n<tbody data-table=\"t1\">\n<tr>\n<td style=\"border: 0.01px solid rgb(126, 140, 141); text-align: center;\" scope=\"rowgroup\"><span style=\"font-size: 10pt;\">POL</span></td>\n<td style=\"border: 0.01px solid rgb(126, 140, 141); text-align: center;\" scope=\"rowgroup\"><span style=\"font-size: 10pt;\">POD</span></td>\n<td style=\"border: 0.01px solid rgb(126, 140, 141); text-align: center;\" scope=\"rowgroup\"><span style=\"font-size: 10pt;\">Carrier</span></td>\n<td style=\"border: 0.01px solid rgb(126, 140, 141); text-align: center;\" scope=\"rowgroup\"><span style=\"font-size: 10pt;\">VIA</span></td>\n<td style=\"border: 0.01px solid rgb(126, 140, 141); text-align: center;\" scope=\"rowgroup\"><span style=\"font-size: 10pt;\">TT</span></td>\n<td style=\"border: 0.01px solid rgb(126, 140, 141); text-align: center;\" scope=\"rowgroup\"><span style=\"font-size: 10pt;\">FREQ</span></td>\n</tr>\n<tr>\n<td style=\"border-image: initial; border-color: #7e8c8d; text-align: center;\"><span style=\"font-size: 10pt;\">{POL}</span></td>\n<td style=\"border-image: initial; border-color: #7e8c8d; text-align: center;\"><span style=\"font-size: 10pt;\">{POD}</span></td>\n<td style=\"border-image: initial; border-color: #7e8c8d; text-align: center;\"><span style=\"font-size: 10pt;\">{Carrier}</span></td>\n<td style=\"border-image: initial; border-color: #7e8c8d; text-align: center;\"><span style=\"font-size: 10pt;\">{VIA}</span></td>\n<td style=\"border-image: initial; border-color: #7e8c8d; text-align: center;\"><span style=\"font-size: 10pt;\">{Tran}</span></td>\n<td style=\"border-image: initial; border-color: #7e8c8d; text-align: center;\">\n<p>{ScheduleIdsText}</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<table class=\"dashed\" style=\"border-collapse: collapse; width: 100%; height: 179.333px; border: 1px solid rgb(126, 140, 141);\" border=\"1\"><colgroup><col style=\"width: 20.2632%;\"><col style=\"width: 11.7105%;\"><col style=\"width: 11.3158%;\"><col style=\"width: 11.4474%;\"><col style=\"width: 9.73684%;\"><col style=\"width: 9.21053%;\"><col style=\"width: 10.1316%;\"><col style=\"width: 5.65789%;\"><col style=\"width: 10.5263%;\"></colgroup>\n<thead>\n<tr>\n<td style=\"text-align: center; border-color: #7e8c8d;\" rowspan=\"2\"><span style=\"font-size: 10pt;\">Description</span></td>\n<td style=\"text-align: center; border-color: #7e8c8d;\" rowspan=\"2\"><span style=\"font-size: 10pt;\">Curr</span></td>\n<td style=\"text-align: center; border-color: #7e8c8d;\" rowspan=\"2\"><span style=\"font-size: 10pt;\">Unit</span></td>\n<td style=\"text-align: center; border-color: #7e8c8d;\" colspan=\"4\"><span style=\"font-size: 10pt;\">Price</span></td>\n<td style=\"text-align: center; border-color: #7e8c8d;\" rowspan=\"2\"><span style=\"font-size: 10pt;\">VAT</span></td>\n<td style=\"text-align: center; border-color: #7e8c8d;\" rowspan=\"2\"><span style=\"font-size: 10pt;\">Remark</span></td>\n</tr>\n<tr>\n<td style=\"text-align: center; border-color: #7e8c8d;\"><span style=\"font-size: 10pt;\">LCL</span></td>\n<td class=\"xl67\" style=\"text-align: center; border-color: #7e8c8d;\" width=\"74\" height=\"24\"><span style=\"font-size: 10pt;\">20</span></td>\n<td class=\"xl67\" style=\"text-align: center; border-color: #7e8c8d;\" width=\"61\" height=\"24\"><span style=\"font-size: 10pt;\">40</span></td>\n<td class=\"xl67\" style=\"text-align: center; border-color: #7e8c8d;\" width=\"77\" height=\"24\"><span style=\"font-size: 10pt;\">45</span></td>\n</tr>\n</thead>\n<tbody data-group=\"Level1|GroupFee\" data-table=\"c0\">\n<tr>\n<td style=\"background-color: #ced4d9; text-align: left;\" colspan=\"9\"><span style=\"font-size: 10pt;\">ROUTE: #{Pol} - #{Pod}</span></td>\n</tr>\n<tr>\n<td style=\"background-color: #ecf0f1;\" colspan=\"9\"><span style=\"font-size: 10pt;\">#{GroupFee}</span></td>\n</tr>\n<tr>\n<td style=\"border-color: #7e8c8d;\"><span style=\"font-size: 10pt;\">{Description}</span></td>\n<td style=\"border-color: #7e8c8d; text-align: center;\"><span style=\"font-size: 10pt;\">{Curr}</span></td>\n<td style=\"border-color: #7e8c8d; text-align: center;\"><span style=\"font-size: 10pt;\">{Unit}</span></td>\n<td style=\"border-color: #7e8c8d; text-align: center;\"><span style=\"font-size: 10pt;\">{LCL}</span></td>\n<td style=\"border-color: #7e8c8d; text-align: center;\"><span style=\"font-size: 10pt;\">{Cont20}</span></td>\n<td style=\"border-color: #7e8c8d; text-align: center;\">{Cont40}</td>\n<td style=\"border-color: #7e8c8d; text-align: center;\"><span style=\"font-size: 10pt;\">{Cont45}</span></td>\n<td style=\"border-color: #7e8c8d; text-align: center;\">&nbsp;</td>\n<td style=\"border-color: #7e8c8d; text-align: center;\">&nbsp;</td>\n</tr>\n</tbody>\n<tfoot>\n<tr>\n<td style=\"vertical-align: top; border-color: #7e8c8d;\" colspan=\"9\"><span style=\"font-size: 10pt;\"><br></span><span style=\"font-size: 10pt;\"><br></span></td>\n</tr>\n</tfoot>\n</table>\n<p>&nbsp;</p>\n<p><span style=\"font-size: 10pt;\">${Remark}</span></p>",
                    "ShowExp": "var config = JSON.parse(localStorage.getItem(\"SalesFunction\"));\r\nif (!config[\"APPROVE_QUOTATION_FILE\"]) {\r\n    return this.Entity.StatusId == 3;\r\n}\r\nelse {\r\n    return !this.Entity.Id.startsWith('-');\r\n}"
                },
                {
                    "Id": "01950399-c49a-7016-b6de-b8fc4e97ddea",
                    "FieldName": "btnViewPayment",
                    "Order": -1,
                    "ComponentType": "Button",
                    "Column": 1,
                    "Label": "Open Payment",
                    "Icon": "fas fa-receipt",
                    "ClassName": "btn detail-button secondary-outline",
                    "Events": "{    \"click\": \"CreateRP\"}",
                    "Active": true,
                    "ShowExp": "this.Entity.PaymentAccId && this.Entity.StatusId == 3 && (this.Entity.UserApprovedIds && this.Entity.UserApprovedIds.includes(this.Token.UserId) || this.Entity.ForwardId == this.Token.UserId) "
                },
                {
                    "Id": "01950399-c49a-7016-b6de-bcf8c2384eac",
                    "FieldName": "btnCreatePayment",
                    "Order": -1,
                    "ComponentType": "Button",
                    "Column": 1,
                    "Label": "Generate Payment",
                    "Icon": "fas fa-receipt",
                    "ClassName": "btn detail-button secondary-outline",
                    "Events": "{    \"click\": \"CreateRP\"}",
                    "Active": true,
                    "ShowExp": "!this.Entity.Id.startsWith('-') && !this.Entity.PaymentAccId && this.Entity.StatusId == 3 && (this.Entity.UserApprovedIds && this.Entity.UserApprovedIds.includes(this.Token.UserId) || this.Entity.ForwardId == this.Token.UserId) "
                }
            ]
        },
        {
            "Id": "0193f378-ec24-776b-afb0-5440b7156401",
            "FieldName": "Detail",
            "Order": 10,
            "ComponentType": "Section",
            "Label": "Approve History",
            "ClassName": "card-body",
            "XxlCol": 12,
            "Active": true,
            "ParentId": "01939c4c-c0d5-75c6-9958-0401497a5a11",
            "TabGroup": "Other charges",
            "XxlOuterColumn": 12,
            "IsDropDown": true,
            "Components": [
                {
                    "Id": "0193f379-8caa-767f-ad6c-0ff6183355c4",
                    "FieldName": "Approvement",
                    "Order": 1,
                    "ComponentType": "GridView",
                    "Column": 12,
                    "Row": 50,
                    "Label": "Approvement",
                    "ClassName": "sticky",
                    "ChildStyle": "height: 150px;",
                    "Active": true,
                    "Query": "{\r\n    \"sql\": \"select * from Approvement as ds where RecordId = '{RecordId}'\",\r\n    \"total\": \"select count(ds.Id) as total from Approvement as ds where RecordId = '{RecordId}'\"\r\n}",
                    "RefName": "Approvement",
                    "PreQuery": "{\r\n    \"RecordId\": this.EditForm.Entity.Id\r\n}",
                    "OrderBy": "ds.InsertedDate desc",
                    "AddRowExp": "this.Entity.StatusId != 3"
                }
            ]
        }
    ],
    "GridPolicies": [
        {
            "Id": "01939c4c-c9c6-7374-8625-7fb95ed2896e",
            "FieldName": "DescriptionId",
            "Order": 0,
            "ComponentType": "Dropdown",
            "FormatData": "{Name}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "Description",
            "Events": "{\"change\":\"CheckCurrency\"}",
            "Width": "255px",
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select * from FeeType as ds\",\r\n    \"total\": \"select count(ds.Id) as total from FeeType as ds\"\r\n}",
            "RefName": "FeeType",
            "Template": "[{ \"FieldName\" : \"Name\", \"Label\" : \"Name\", \"ComponentType\" : \"Input\" },{ \"FieldName\" : \"Description\", \"Label\" : \"Description\", \"ComponentType\" : \"Input\" },{ \"FieldName\" : \"GroupId\", \"Label\" : \"Group\", \"ComponentType\" : \"Dropdown\", \"RefName\" : \"MasterData\", \"FormatData\" : \"{Name}\" }]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "255px",
            "MaxWidth": "255px",
            "OrderBy": "ds.IsFreight desc",
            "EntityId": "VoucherDetail"
        },
        {
            "Id": "01939c4c-ca32-75c5-88e3-e1fc94710078",
            "FieldName": "UnitId",
            "Order": 3,
            "ComponentType": "Dropdown",
            "FormatData": "{Name}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "Unit",
            "Width": "99px",
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select ds.* from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name in (N'Unit Type','Container Type','LTL Type')\",\r\n    \"total\": \"select count(ds.Id) as total from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name in (N'Unit Type','Container Type','LTL Type')\"\r\n}",
            "RefName": "MasterData",
            "Template": "[\r\n    {\r\n        \"FieldName\": \"Name\",\r\n        \"Label\": \"Name\",\r\n        \"ComponentType\": \"Input\"\r\n    },\r\n    {\r\n        \"FieldName\": \"Description\",\r\n        \"Label\": \"Description\",\r\n        \"ComponentType\": \"Input\"\r\n    }\r\n]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "99px",
            "MaxWidth": "99px",
            "OrderBy": "ds.Name asc",
            "EntityId": "VoucherDetail"
        },
        {
            "Id": "01939c4c-ca63-773e-8b44-f5e5b98cefd4",
            "FieldName": "Amount",
            "Order": 5,
            "ComponentType": "Number",
            "Precision": 3,
            "Label": "Unit Price",
            "Events": "{\r\n    \"input\": \"CalcPrice\"\r\n}",
            "Width": "87px",
            "Active": true,
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "87px",
            "MaxWidth": "87px",
            "EntityId": "VoucherDetail",
            "GroupTypeId": "00ec1404-0000-0000-8000-858f8a4d5181"
        },
        {
            "Id": "01939c4c-ca96-749f-9f75-f56100bbc322",
            "FieldName": "FileId",
            "Order": 2,
            "ComponentType": "Dropdown",
            "FormatData": "{Code}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "File No",
            "Width": "118px",
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select * from Shipment as ds where ((ds.InsertedBy = '{TokenUserId}' or ds.UserApprovedIds like '%{TokenUserId}%' or ds.UserViewIds like '%{TokenUserId}%' or (ds.ReceiverIds like '%{TokenUserId}%' and ds.StatusId = 3) or (ds.ForwardId = '{TokenUserId}')) and ParentId is null)\",\r\n    \"total\": \"select count(ds.Id) as total from Shipment as ds where ((ds.InsertedBy = '{TokenUserId}' or ds.UserApprovedIds like '%{TokenUserId}%' or ds.UserViewIds like '%{TokenUserId}%' or (ds.ReceiverIds like '%{TokenUserId}%' and ds.StatusId = 3) or (ds.ForwardId = '{TokenUserId}')) and ParentId is null)\"\r\n}\r\n",
            "RefName": "Shipment",
            "Template": "[{ \"FieldName\" : \"Code\", \"Label\" : \"File No\", \"ComponentType\" : \"Input\" }]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "118px",
            "MaxWidth": "118px",
            "OrderBy": "ds.InsertedDate desc",
            "EntityId": "VoucherDetail"
        },
        {
            "Id": "01939c4c-caf9-7313-92f4-84b36f24b120",
            "FieldName": "ShipmentId",
            "Order": 1,
            "ComponentType": "Dropdown",
            "FormatData": "{HblNo}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "HBL No",
            "Width": "123px",
            "PopulateField": "this.Entity.FileId = this.Matched.ParentId;\r\nreturn this.Parent.UpdateView(false);",
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select * from Shipment as ds where ((ds.InsertedBy = '{TokenUserId}' or ds.UserApprovedIds like '%{TokenUserId}%' or ds.SaleId = '{TokenUserId}' or ds.UserViewIds like '%{TokenUserId}%' or (ds.ReceiverIds like '%{TokenUserId}%' and ds.StatusId = 3) or (ds.ForwardId = '{TokenUserId}')) and ds.ParentId is not null and HblNo is not null)\",\r\n    \"total\": \"select count(ds.Id) as total from Shipment as ds where ((ds.InsertedBy = '{TokenUserId}' or ds.UserApprovedIds like '%{TokenUserId}%' or ds.SaleId = '{TokenUserId}' or ds.UserViewIds like '%{TokenUserId}%' or (ds.ReceiverIds like '%{TokenUserId}%') or (ds.ForwardId = '{TokenUserId}' and ds.StatusId = 3 and ds.ParentId is not null and HblNo is not null)))\"\r\n}",
            "RefName": "Shipment",
            "Template": "[{ \"FieldName\" : \"HblNo\", \"Label\" : \"HblNo\", \"ComponentType\" : \"Input\" }]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "123px",
            "MaxWidth": "123px",
            "OrderBy": "ds.InsertedDate desc",
            "EntityId": "VoucherDetail"
        },
        {
            "Id": "01939c91-dac5-740d-9135-c18aede64fd2",
            "FieldName": "CurrencyId",
            "Order": 6,
            "ComponentType": "Dropdown",
            "FormatData": "{Code}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "Currency",
            "Events": "{\r\n    \"change\": \"CheckCurrency\"\r\n}",
            "Width": "107px",
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select ds.* from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name = N'Currency'\",\r\n    \"total\": \"select count(ds.Id) as total from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name = N'Currency'\"\r\n}",
            "RefName": "MasterData",
            "Template": "[{ \"FieldName\" : \"Code\", \"Label\" : \"Currency\", \"ComponentType\" : \"Input\" }]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "107px",
            "MaxWidth": "107px",
            "OrderBy": "ds.Enum asc",
            "EntityId": "VoucherDetail"
        },
        {
            "Id": "01939c92-4d84-719a-9fb4-feba4514c1a3",
            "FieldName": "ExchangeRateVND",
            "Order": 7,
            "ComponentType": "Number",
            "Precision": 3,
            "Label": "Exchange Rate",
            "Width": "100px",
            "Active": true,
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "100px",
            "MaxWidth": "100px",
            "EntityId": "VoucherDetail",
            "GroupTypeId": "00ec1404-0000-0000-8000-858f8a4d5181"
        },
        {
            "Id": "01939c93-533d-71ea-9f1f-5fba95b98ff0",
            "FieldName": "TotalAmount",
            "Order": 8,
            "ComponentType": "Number",
            "Precision": 2,
            "Label": "Total Amount",
            "Width": "114px",
            "Active": true,
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "114px",
            "MaxWidth": "114px",
            "EntityId": "VoucherDetail",
            "GroupTypeId": "00eb142c-0000-0000-8000-2945bf4c2c78"
        },
        {
            "Id": "01939c93-7c45-736e-979e-ca3448217bb2",
            "FieldName": "DeadlineDate",
            "Order": 9,
            "ComponentType": "Datepicker",
            "Precision": 2,
            "Label": "Deadline Date",
            "Width": "153px",
            "Active": true,
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "153px",
            "MaxWidth": "153px",
            "EntityId": "VoucherDetail",
            "GroupTypeId": "00d41484-0000-0000-8000-7725fc908bab"
        },
        {
            "Id": "01939c93-b76f-741c-879c-48978f6dc15a",
            "FieldName": "AdvanceRequestTypeId",
            "Order": 10,
            "ComponentType": "Dropdown",
            "FormatData": "{Name}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "Type",
            "Width": "118px",
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select ds.* from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name in (N'Advance Request Type')\",\r\n    \"total\": \"select count(ds.Id) as total from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name in (N'Advance Request Type')\"\r\n}",
            "RefName": "MasterData",
            "Template": "[{ \"FieldName\" : \"Name\", \"Label\" : \"Type\", \"ComponentType\" : \"Input\" }]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "118px",
            "MaxWidth": "118px",
            "EntityId": "VoucherDetail"
        },
        {
            "Id": "01939cd0-f442-702b-be79-cc8bbf829575",
            "FieldName": "Quantity",
            "Order": 4,
            "ComponentType": "Number",
            "Precision": 2,
            "Label": "Quantity",
            "Events": "{\r\n    \"input\": \"CalcPrice\"\r\n}",
            "Width": "73px",
            "Active": true,
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "73px",
            "MaxWidth": "73px",
            "EntityId": "VoucherDetail",
            "GroupTypeId": "00d41484-0000-0000-8000-7725fc908bab"
        },
        {
            "Id": "0193f379-d65d-7569-9e3c-c20c3ebfd391",
            "FieldName": "Approved",
            "Order": 0,
            "ComponentType": "Checkbox",
            "Label": "Approved",
            "Width": "133px",
            "Active": true,
            "FocusSearch": true,
            "MinWidth": "133px",
            "MaxWidth": "133px",
            "EntityId": "Approvement"
        },
        {
            "Id": "0193f379-d65e-750c-ae74-5c06a74785a9",
            "FieldName": "ReasonOfChange",
            "Order": 1,
            "ComponentType": "Input",
            "Label": "Reason Change",
            "Width": "374px",
            "Active": true,
            "FocusSearch": true,
            "MinWidth": "374px",
            "MaxWidth": "374px",
            "EntityId": "Approvement"
        },
        {
            "Id": "0193f379-d65e-750c-ae74-63e3833205f1",
            "FieldName": "ApprovedDate",
            "Order": 2,
            "ComponentType": "Datepicker",
            "FormatData": "DD/MM/YYYY HH:mm",
            "Label": "Action Date",
            "Width": "144px",
            "Active": true,
            "FocusSearch": true,
            "MinWidth": "144px",
            "MaxWidth": "144px",
            "EntityId": "Approvement"
        },
        {
            "Id": "0193f379-d65e-750c-ae74-674bd076578c",
            "FieldName": "ApprovedBy",
            "Order": 3,
            "ComponentType": "Dropdown",
            "FormatData": "{FullName}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "Action by",
            "Width": "116px",
            "Active": true,
            "RefName": "User",
            "Template": "[{ \"FieldName\" : \"FullName\", \"Label\" : \"Full Name\", \"ComponentType\" : \"FullName\" },\r\n{ \"FieldName\" : \"NickName\", \"Label\" : \"NickName\", \"ComponentType\" : \"Input\" },\r\n{ \"FieldName\" : \"DepartmentId\", \"Label\" : \"Department\", \"ComponentType\" : \"Dropdown\", \"RefName\":\"MasterData\",\"FormatData\" : \"{Name}\" }]",
            "FocusSearch": true,
            "MinWidth": "116px",
            "MaxWidth": "116px",
            "EntityId": "Approvement"
        }
    ],
    "Components": [
        {
            "Id": "01939c4c-c954-749f-8f00-9b241b2fc68d",
            "FieldName": "btnSave",
            "Order": 5,
            "ComponentType": "Button",
            "Column": 1,
            "Label": "Save",
            "Icon": "fal fa-save",
            "ClassName": "btn detail-button primary",
            "HotKey": "Ctrl-S",
            "Events": "{ \"click\" : \"SavePatch\" }",
            "Active": true
        },
        {
            "Id": "0193eed4-c671-773e-bbf8-31f6cb2c265b",
            "FieldName": "btnSendEntity",
            "Order": 2,
            "ComponentType": "Button",
            "Column": 1,
            "Label": "Send",
            "Icon": "far fa-share-all",
            "ClassName": "btn detail-button secondary-outline",
            "Events": "{ \"click\" : \"SendEntity\" }",
            "Active": true,
            "ShowExp": "(this.Entity.StatusId == 1 || this.Entity.StatusId == 4) && this.Token.UserId == this.Entity.InsertedBy && !this.Entity.Id.startsWith('-')"
        },
        {
            "Id": "0193eed4-c671-773e-bbf8-374b51ba0d51",
            "FieldName": "btnDecline",
            "Order": 3,
            "ComponentType": "Button",
            "Column": 1,
            "Label": "Decline",
            "Icon": "fal fa-comment-alt-slash",
            "ClassName": "btn detail-button secondary-outline",
            "Events": "{ \"click\" : \"DeclineEntity\" }",
            "Active": true,
            "ShowExp": "this.Entity.StatusId == 2 && this.Entity.UserApprovedIds.includes(this.Token.UserId);"
        },
        {
            "Id": "0193eed4-c671-773e-bbf8-38f5b6611120",
            "FieldName": "btnApprove",
            "Order": 4,
            "ComponentType": "Button",
            "Column": 1,
            "Label": "Approve",
            "Icon": "fal fa-check-circle",
            "ClassName": "btn detail-button secondary-outline",
            "Events": "{ \"click\" : \"ApprovedEntity\" }",
            "Active": true,
            "ShowExp": "this.Entity.StatusId == 2 && this.Entity.UserApprovedIds.includes(this.Token.UserId);"
        },
        {
            "Id": "01950399-c49a-7016-b6de-b8fc4e97ddea",
            "FieldName": "btnViewPayment",
            "Order": -1,
            "ComponentType": "Button",
            "Column": 1,
            "Label": "Open Payment",
            "Icon": "fas fa-receipt",
            "ClassName": "btn detail-button secondary-outline",
            "Events": "{    \"click\": \"CreateRP\"}",
            "Active": true,
            "ShowExp": "this.Entity.PaymentAccId && this.Entity.StatusId == 3 && (this.Entity.UserApprovedIds && this.Entity.UserApprovedIds.includes(this.Token.UserId) || this.Entity.ForwardId == this.Token.UserId) "
        },
        {
            "Id": "01950399-c49a-7016-b6de-bcf8c2384eac",
            "FieldName": "btnCreatePayment",
            "Order": -1,
            "ComponentType": "Button",
            "Column": 1,
            "Label": "Generate Payment",
            "Icon": "fas fa-receipt",
            "ClassName": "btn detail-button secondary-outline",
            "Events": "{    \"click\": \"CreateRP\"}",
            "Active": true,
            "ShowExp": "!this.Entity.Id.startsWith('-') && !this.Entity.PaymentAccId && this.Entity.StatusId == 3 && (this.Entity.UserApprovedIds && this.Entity.UserApprovedIds.includes(this.Token.UserId) || this.Entity.ForwardId == this.Token.UserId) "
        }
    ],
    "FeaturePolicies": [
        {
            "Id": "033F7BDB-D54A-4098-B1E1-8F30916E4876",
            "RoleId": "0001fd80-0000-0000-8000-13a7c7a43b11",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "7344E2A8-6539-404B-9996-C47DDCE5D1F7",
            "RoleId": "0001f180-0000-0000-8000-13a7c7a23b11",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "73EE2EF9-45B2-4193-AA01-67B8A4E36AE7",
            "RoleId": "0001fd80-0000-0000-8000-e3a7c7a43ba2",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "79EE23A4-E213-4AD6-A40B-5FEA005CDB27",
            "RoleId": "00012180-0000-0000-8000-13a7a7a23b11",
            "CanRead": true,
            "CanReadAll": true,
            "CanWrite": true,
            "CanWriteAll": true,
            "CanDelete": true,
            "CanDeleteAll": true,
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "85EDFBC5-F28B-4CDF-AE62-B5347E3D6FC3",
            "RoleId": "0001f180-0000-0000-8000-13a7c7a43b11",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "8D1B59C6-7F93-43F0-9E26-BD29BC75ADCE",
            "RoleId": "0001fd80-0000-0000-8000-23a7c7a43ba7",
            "CanRead": true,
            "CanReadAll": true,
            "CanWrite": true,
            "CanWriteAll": true,
            "CanDelete": true,
            "CanDeleteAll": true,
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "8D96165E-5A21-43AA-BD75-B1FCCB07F58F",
            "RoleId": "0001fd80-0000-0000-8000-e3a7c7a43ba7",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "A5C0441A-6BA2-49C5-A41E-8798B1F03073",
            "RoleId": "CUSTOMER",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "E8CD9A10-353D-4201-AB5B-CB2D21E289EB",
            "RoleId": "00012180-0000-0000-8000-13a7c7a23b11",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "F8D6F7B7-F512-4CA0-BAF8-E4BF9E0326A0",
            "RoleId": "0001fd80-0000-0000-8000-e3a7c7a43ba1",
            "CanRead": true,
            "CanWrite": true,
            "CanDelete": true,
            "TableName": "Feature",
            "Active": true
        }
    ]
}