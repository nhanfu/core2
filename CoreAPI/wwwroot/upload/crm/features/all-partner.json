{
    "Id": "019391e1-95d2-74c6-88f9-b32c67055ef2",
    "Name": "all-partner",
    "Label": "All Partner",
    "ParentId": "006b1850-0000-0000-8000-1fdb95f8d1dc",
    "Order": 18,
    "Script": "return {\r\n    Add: function () {\r\n        var config = JSON.parse(localStorage.getItem(\"SalesFunction\"));\r\n        var cus = {\r\n            ServiceId: 2,\r\n            ActionId: config[\"DEFAULT_CREATE_OBJECTS_APPROVE\"] ? 1 : 3,\r\n        }\r\n        this.OpenPopup(\"partner-editor\", cus);\r\n    },\r\n    Edit: function (btn, entity) {\r\n        if (entity.ServiceId == 1) {\r\n            this.OpenPopup(\"customer-editor\", entity);\r\n        }\r\n        else {\r\n            this.OpenPopup(\"partner-editor\", entity);\r\n        }\r\n    }\r\n}",
    "Icon": "fal fa-user-chart",
    "IsMenu": true,
    "EntityId": "Partner",
    "Active": true,
    "ComponentGroup": [
        {
            "Id": "019391e3-ca62-70ca-b468-2a829f88960f",
            "FieldName": " ",
            "Order": 1,
            "ComponentType": "Section",
            "Icon": "fal fa-border-all mr-1",
            "XxlCol": 1,
            "Active": true,
            "ReportTypeId": 1,
            "Components": [
                {
                    "Id": "0193925a-c555-706c-aaf9-47d7e40529f1",
                    "FieldName": "Customer",
                    "Order": 1,
                    "ComponentType": "GridView",
                    "Column": 12,
                    "Row": 100,
                    "CanSearch": true,
                    "ClassName": "sticky",
                    "Events": "{\r\n    \"dblclick\": \"Edit\"\r\n}",
                    "Active": true,
                    "Query": "{\r\n    \"sql\": \"select * from [Partner] as ds\",\r\n    \"total\": \"select count(ds.Id) as total from [Partner] as ds\",\r\n    \"delete\": \"select top 1 CustomerId from Inquiry where CustomerId in ({EntityIds}) union select top 1 VendorId from DefaultFee where VendorId in ({EntityIds}) union select top 1 PayerId from InquiryDetail where PayerId in ({EntityIds}) union select top 1 PayerId from InquiryDetail where PayeeId in ({EntityIds}) union select top 1 CustomerId from Booking where CustomerId in ({EntityIds})\",\r\n    \"update\" : \"update Inquiry set CustomerId = '{NewId}' where CustomerId in ({EntityIds}); update DefaultFee set VendorId = '{NewId}' where VendorId in ({EntityIds}); update InquiryDetail set PayerId = '{NewId}' where PayerId in ({EntityIds}); update InquiryDetail set PayerId = '{NewId}' where PayeeId in ({EntityIds}); update Booking set  CustomerId = '{NewId}' where CustomerId in ({EntityIds});UPDATE p1 SET p1.History = CONCAT(ISNULL(p1.History, ''), '', N'The partner ', ISNULL(agg.PartnerNames, N''), N' was deleted by user {TokenUserName} on ', GETDATE() ) FROM [Partner] p1 CROSS APPLY ( SELECT STRING_AGG(CONCAT(p2.Name, N' (', p2.Id, ')'), N', ') AS PartnerNames FROM [Partner] p2 WHERE p2.Id IN ({EntityIds}) ) agg WHERE p1.Id = '{NewId}';\"\r\n}",
                    "RefName": "Partner",
                    "PreQuery": "{\r\n    \"Message\": \"Unable to delete issue data\"\r\n}",
                    "OrderBy": "ServiceId desc",
                    "ReportTypeId": 1
                }
            ]
        }
    ],
    "GridPolicies": [
        {
            "Id": "0193c354-01a7-702b-9ac4-e23812c1f4d3",
            "FieldName": "btnEdit",
            "Order": 0,
            "ComponentType": "Button",
            "Icon": "fal fa-expand",
            "ClassName": "btn",
            "Events": "{\r\n    \"click\": \"Edit\"\r\n}",
            "Width": "56px",
            "Active": true,
            "FocusSearch": true,
            "MinWidth": "56px",
            "MaxWidth": "56px",
            "EntityId": "Customer",
            "ReportTypeId": 1
        },
        {
            "Id": "0193c354-01a7-702b-9ac4-e6abc30a5559",
            "FieldName": "Code",
            "Order": 1,
            "ComponentType": "Input",
            "Label": "Code",
            "Width": "82px",
            "Active": true,
            "FocusSearch": true,
            "MinWidth": "82px",
            "MaxWidth": "82px",
            "EntityId": "Customer",
            "ReportTypeId": 1
        },
        {
            "Id": "0193c354-01a8-710a-9ab6-5a34bb1ff210",
            "FieldName": "Name",
            "Order": 2,
            "ComponentType": "Input",
            "Label": "Abbreviation",
            "Width": "367px",
            "Active": true,
            "FocusSearch": true,
            "MinWidth": "367px",
            "MaxWidth": "367px",
            "EntityId": "Customer",
            "ReportTypeId": 1
        },
        {
            "Id": "0193c354-01a8-710a-9ab6-5c422922f4ad",
            "FieldName": "PhoneNumber",
            "Order": 3,
            "ComponentType": "Input",
            "Label": "Works Phone",
            "Width": "177px",
            "Active": true,
            "FocusSearch": true,
            "MinWidth": "177px",
            "MaxWidth": "177px",
            "EntityId": "Customer",
            "ReportTypeId": 1
        },
        {
            "Id": "0193c354-01a8-710a-9ab6-63f47804adf8",
            "FieldName": "Email",
            "Order": 4,
            "ComponentType": "Input",
            "Label": "Email",
            "Width": "118px",
            "Active": true,
            "FocusSearch": true,
            "MinWidth": "118px",
            "MaxWidth": "118px",
            "EntityId": "Customer",
            "ReportTypeId": 1
        },
        {
            "Id": "0193c354-01a8-710a-9ab6-648d591494ee",
            "FieldName": "TaxCode",
            "Order": 5,
            "ComponentType": "Input",
            "Label": "Tax Code",
            "Width": "118px",
            "Active": true,
            "FocusSearch": true,
            "MinWidth": "118px",
            "MaxWidth": "118px",
            "EntityId": "Customer",
            "ReportTypeId": 1
        },
        {
            "Id": "0193c354-01a8-710a-9ab6-6a1cd9b31c38",
            "FieldName": "SourseId",
            "Order": 6,
            "ComponentType": "Dropdown",
            "FormatData": "{Name}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "Sourse",
            "Width": "138px",
            "Active": true,
            "RefName": "MasterData",
            "FocusSearch": true,
            "MinWidth": "138px",
            "MaxWidth": "138px",
            "EntityId": "Customer",
            "ReportTypeId": 1
        },
        {
            "Id": "0193c354-01a8-710a-9ab6-6e7e4ac8b83e",
            "FieldName": "PartnerTypeIdsText",
            "Order": 7,
            "ComponentType": "Input",
            "Label": "Type",
            "Width": "287px",
            "Active": true,
            "FocusSearch": true,
            "MinWidth": "287px",
            "MaxWidth": "287px",
            "EntityId": "Customer",
            "IsMultiple": true,
            "ReportTypeId": 1
        },
        {
            "Id": "0193c354-01a8-710a-9ab6-73807b33f450",
            "FieldName": "ActionId",
            "Order": 8,
            "ComponentType": "Dropdown",
            "FormatData": "{Name}",
            "PlainText": "Status",
            "Column": 1,
            "Row": 100,
            "Label": "Status",
            "Width": "138px",
            "Active": true,
            "Query": "[\r\n    {\r\n        \"Id\": 1,\r\n        \"Name\": \"<span style='padding: 5px 10px; border-radius: 12px; color: white; background-color: #28a745;'><i class='fal fa-heart mr-1'></i>Active</span>\"\r\n    },\r\n    {\r\n        \"Id\": 2,\r\n        \"Name\": \"<span style='padding: 5px 10px; border-radius: 12px; color: white; background-color: #dc3545;'><i class='fal fa-lock mr-1'></i>Lock</span>\"\r\n    },\r\n    {\r\n        \"Id\": 3,\r\n        \"Name\": \"<span style='padding: 5px 10px; border-radius: 12px; color: white; background-color: #ffc107;'><i class='fal fa-rss mr-1'></i>Awaiting</span>\"\r\n    }\r\n]",
            "Template": "[{ \"FieldName\" : \"Name\", \"Label\" : \"Name\", \"ComponentType\" : \"Input\" }]",
            "FocusSearch": true,
            "BasicSearch": true,
            "MinWidth": "138px",
            "MaxWidth": "138px",
            "EntityId": "Customer",
            "ReportTypeId": 1
        },
        {
            "Id": "0193c354-01a8-710a-9ab6-777e586a9297",
            "FieldName": "InsertedBy",
            "Order": 9,
            "ComponentType": "Dropdown",
            "FormatData": "<div class=\"user-avatar\">\n    <img src=\"{Avatar}\" alt=\"{FullName}\" class=\"avatar\">\n    <a class=\"full-name\">{FullName}</a>\n</div>",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "Created on",
            "Width": "85px",
            "Active": true,
            "RefName": "User",
            "Template": "[{ \"FieldName\" : \"FullName\", \"Label\" : \"Full Name\", \"ComponentType\" : \"FullName\" },\r\n{ \"FieldName\" : \"NickName\", \"Label\" : \"NickName\", \"ComponentType\" : \"Input\" },\r\n{ \"FieldName\" : \"DepartmentId\", \"Label\" : \"Department\", \"ComponentType\" : \"Dropdown\", \"RefName\":\"MasterData\",\"FormatData\" : \"{Name}\" }]",
            "FocusSearch": true,
            "MinWidth": "85px",
            "MaxWidth": "85px",
            "EntityId": "Customer",
            "ReportTypeId": 1
        }
    ],
    "Components": [
        {
            "Id": "0193c354-01a7-702b-9ac4-e23812c1f4d3",
            "FieldName": "btnEdit",
            "Order": 0,
            "ComponentType": "Button",
            "Icon": "fal fa-expand",
            "ClassName": "btn",
            "Events": "{\r\n    \"click\": \"Edit\"\r\n}",
            "Width": "56px",
            "Active": true,
            "FocusSearch": true,
            "MinWidth": "56px",
            "MaxWidth": "56px",
            "EntityId": "Customer",
            "ReportTypeId": 1
        }
    ],
    "FeaturePolicies": [
        {
            "Id": "08677938-5227-43EB-ABA2-A85DF3B8A8BB",
            "RoleId": "00012180-0000-0000-8000-13a7a7a23b11",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "09404D24-E788-4C05-B475-DB693E79FE43",
            "RoleId": "0001fd80-0000-0000-8000-23a7c7a43ba7",
            "CanRead": true,
            "CanReadAll": true,
            "CanWrite": true,
            "CanWriteAll": true,
            "CanDelete": true,
            "CanDeleteAll": true,
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "3675BE67-B4EA-4D33-BF36-A30E91B6E4CF",
            "RoleId": "0001f180-0000-0000-8000-13a7c7a23b11",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "5B9BA225-D766-43DB-990C-A2A3D16D1CFC",
            "RoleId": "0001fd80-0000-0000-8000-13a7c7a43b11",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "988B1E39-16EA-4E3D-A791-FB8FB465D712",
            "RoleId": "0001fd80-0000-0000-8000-e3a7c7a43ba7",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "9C22DC86-0DFC-4B21-81E0-1150FF3195E9",
            "RoleId": "0001f180-0000-0000-8000-13a7c7a43b11",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "9E524F72-CDA2-4F63-A894-2C66B0FAAF1E",
            "RoleId": "0001fd80-0000-0000-8000-e3a7c7a43ba2",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "ABA28913-5507-4E2E-BF17-451FCA4C3560",
            "RoleId": "00012180-0000-0000-8000-13a7c7a23b11",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "B3AB5630-AFCB-4A01-87F0-5819CB44B418",
            "RoleId": "CUSTOMER",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "FC629897-E3FE-4CBD-BD71-5C4D4E617F6D",
            "RoleId": "0001fd80-0000-0000-8000-e3a7c7a43ba1",
            "TableName": "Feature",
            "Active": true
        }
    ]
}