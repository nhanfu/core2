{
    "Id": "0193b5ee-4d13-7348-a289-7aa5f58acefa",
    "Name": "reimbursement-form-editor",
    "Label": "Reimbursement Form Editor",
    "ParentId": "01939222-2f5a-747a-bb15-606fb55edf4c",
    "Style": "width:99%;",
    "Script": "return {\r\n    OnSave: function (form, gridview) {\r\n        var voucherDetail = this.GET(\"VoucherDetail\");\r\n        if (voucherDetail.Item && voucherDetail.Item.length > 0) {\r\n            voucherDetail.Item.forEach(item => {\r\n                item.Entity.VendorId = item.Entity.VendorId || this.EditForm.Entity.UserId;\r\n            });\r\n        }\r\n    },\r\n    CalcTotalAmount: function (com, entity) {\r\n        if (com.Item && com.Item.length > 0) {\r\n            const totalAmount = com.Item.reduce((acc, x) => {\r\n                const total = this.Decimal(x.Entity.Amount || 0);\r\n                return acc.plus(total);\r\n            }, this.Decimal(0));\r\n            this.EditForm.Entity.AdvanceAmount = totalAmount;\r\n            this.EditForm.Entity.RemainingAmount = this.Decimal(this.EditForm.Entity.AdvanceAmount || 0).sub(totalAmount);\r\n            this.EditForm.UpdateView(false, false, \"AdvanceAmount\", \"RemainingAmount\");\r\n        }\r\n        else {\r\n            this.EditForm.Entity.AdvanceAmount = this.Decimal(0);\r\n            this.EditForm.Entity.RemainingAmount = this.Decimal(0).sub(this.Decimal(this.EditForm.Entity.SettlementAmount));\r\n            this.EditForm.UpdateView(false, false, \"AdvanceAmount\", \"RemainingAmount\");\r\n        }\r\n    },\r\n    CalcTotalAmount2: function (com, entity) {\r\n        if (com.Item && com.Item.length > 0) {\r\n            const totalAmount = com.Item.reduce((acc, x) => {\r\n                const total = this.Decimal(x.Entity.TotalAmountTax || 0);\r\n                return acc.plus(total);\r\n            }, this.Decimal(0));\r\n            this.EditForm.Entity.SettlementAmount = totalAmount;\r\n            this.EditForm.Entity.RemainingAmount = this.Decimal(this.EditForm.Entity.AdvanceAmount || 0).sub(totalAmount);\r\n            this.EditForm.UpdateView(false, false, \"SettlementAmount\", \"RemainingAmount\");\r\n        }\r\n        else {\r\n            this.EditForm.Entity.SettlementAmount = this.Decimal(0);\r\n            this.EditForm.Entity.RemainingAmount = this.Decimal(this.EditForm.Entity.AdvanceAmount || 0).sub(this.Decimal(0));\r\n            this.EditForm.UpdateView(false, false, \"AdvanceAmount\", \"RemainingAmount\");\r\n        }\r\n    },\r\n    AddDetail: function (gridview) {\r\n        var gridviewAdv = this.GET(\"ReimbursementDetail\");\r\n        this.EditForm.Entity.AdvanceId = null;\r\n        this.EditForm.Entity.Advance = null;\r\n        var newItem = JSON.parse(JSON.stringify(this.EditForm.Meta.GridPolicies.filter(x => x.EntityId == \"CopyAdvanceRequest\")));\r\n        var form = this.EditForm.OpenConfig(\"Please select Advance Request!\", async () => {\r\n            if (!this.EditForm.Entity.AdvanceId) {\r\n                return;\r\n            }\r\n            var service = this.GET(\"ServiceCopyAdvance\");\r\n            var datas = await service.RunQuerys();\r\n            var advs = datas[0];\r\n            advs.forEach(item => {\r\n                item.VoucherId = this.EditForm.Entity.Id;\r\n            });\r\n            gridviewAdv.LoadMasterData(advs).then(() => {\r\n                gridviewAdv.ClearSelected();\r\n                gridviewAdv.AddRows(advs).then(rows => {\r\n                    rows.forEach(row => {\r\n                        row.Selected = true;\r\n                    });\r\n                    if (rows[0]) {\r\n                        rows[0].Element.focus();\r\n                    }\r\n                });\r\n            });\r\n            var gridview = this.GET(\"VoucherDetail\");\r\n            datas = await service.RunQuerys();\r\n            var newFees = datas[1];\r\n            if (newFees) {\r\n                newFees.forEach(item => {\r\n                    item.ParentId = item.VoucherId;\r\n                    item.Id = this.Uuid7.NewGuid();\r\n                    item.VoucherId = this.EditForm.Entity.Id;\r\n                    item.Type = 1;\r\n                });\r\n                debugger;\r\n                gridview.LoadMasterData(newFees).then(() => {\r\n                    gridview.ClearSelected();\r\n                    gridview.AddRows(newFees).then(rows => {\r\n                        rows.forEach(row => {\r\n                            row.Selected = true;\r\n                        });\r\n                        if (rows[0]) {\r\n                            rows[0].Element.focus();\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n\r\n        }, () => { }, true, newItem);\r\n    },\r\n    AddContextMenu: function (gridview, context) {\r\n        var data = gridview.Item.filter(x => x.Selected);\r\n        var gridview2 = this.GET(\"VoucherDetail\");\r\n        context.MenuItems.push({\r\n            Icon: \"fas fa-page-break\",\r\n            Text: \"Split Advance Request\",\r\n            Click: async () => {\r\n                var parentIds = data.map(x => x.Entity.Id);\r\n                for (const element of parentIds) {\r\n                    gridview.RemoveRowById(element);\r\n                    let patchVM = {\r\n                        Table: \"Voucher\",\r\n                        Changes: [\r\n                            { Field: \"Id\", Value: element },\r\n                            { Field: \"VoucherId\", Value: null }\r\n                        ]\r\n                    };\r\n                    await this.Client.PatchAsync(patchVM);\r\n                };\r\n                this.EditForm.Dirty = true;\r\n                var deleteItem = gridview2.Item.filter(item => parentIds.includes(item.Entity.ParentId));\r\n                if (deleteItem && deleteItem.length > 0) {\r\n                    await gridview2.HardDeleteConfirmed(deleteItem.map(x => x.Entity));\r\n                }\r\n                this.CalcTotalAmount(gridview);\r\n                if (!this.EditForm.Entity.Id.startsWith('-')) {\r\n                    await this.EditForm.SavePatch();\r\n                }\r\n            }\r\n        });\r\n    },\r\n    CheckObh: function (com, entity) {\r\n        if (entity.IsObh) {\r\n\r\n        }\r\n        entity.Quantity = this.Decimal(entity.Quantity || 0);\r\n        entity.Amount = this.Decimal(entity.Amount || 0);\r\n        entity.TotalAmount = (entity.Quantity || new this.Decimal(0)).times(entity.Amount || new this.Decimal(0));\r\n        if ((entity.Vat || new this.Decimal(0)).isNegative()) {\r\n            entity.AmountTax = this.Decimal(entity.Vat).abs();\r\n        } else {\r\n            entity.AmountTax = (entity.TotalAmount).times(entity.Vat || new this.Decimal(0)).div(100);\r\n        }\r\n        entity.TotalAmountTax = entity.TotalAmount.plus(entity.AmountTax);\r\n        com.Parent.UpdateView(false);\r\n    },\r\n    BeforeCreated: function (rowSection, entity, listView) {\r\n        if (listView) {\r\n            var item = listView.Item[listView.Item.length - 1];\r\n            if (item) {\r\n                entity.VendorId = entity.VendorId || item.Entity.VendorId;\r\n            }\r\n            else {\r\n                entity.VendorId = this.EditForm.Entity.UserId;\r\n            }\r\n        }\r\n    },\r\n    CreateRP: function () {\r\n        if (this.EditForm.Entity.PaymentAccId) {\r\n            this.OpenPopup(\"payment-accounting-editor\", { Id: this.EditForm.Entity.PaymentAccId }, true);\r\n            return;\r\n        }\r\n        var voucher = JSON.parse(JSON.stringify(this.EditForm.Entity));\r\n        voucher.Id = this.Uuid7.NewGuid();\r\n        voucher.ReId = this.EditForm.Entity.Id;\r\n        voucher.IsDescription = true;\r\n        voucher.Code = null;\r\n        voucher.ActionId = 2;\r\n        voucher.VoucherTypeId = 15;\r\n        voucher.FeeTypeId = \"1\";\r\n        voucher.InsertedBy = this.Token.UserId;\r\n        voucher.TypeId = 6;\r\n        voucher.ProgressId = 1;\r\n        voucher.IsPaid = true;\r\n        voucher.UserApprovedIds = null;\r\n        voucher.IsMultiple = true;\r\n        voucher.InvoiceDate = null;\r\n        voucher.PaidDate = this.dayjs().format('YYYY-MM-DDTHH:mm:ss');\r\n        voucher.PostDate = this.dayjs().format('YYYY-MM-DDTHH:mm:ss');\r\n        voucher.VoucherDate = this.dayjs().format('YYYY-MM-DDTHH:mm:ss');\r\n        voucher.VendorId = this.Token.UserId;\r\n        voucher.PartnerId = this.Token.UserId;\r\n        voucher.CompanyId = this.EditForm.Entity.UserId;\r\n        voucher.CompanyAddress = this.EditForm.Entity.User ? this.EditForm.Entity.User.Address : null;\r\n        voucher.VendorName = this.Token.FullName;\r\n        voucher.Person = this.EditForm.Entity.User ? this.EditForm.Entity.User.FullName : null;\r\n        voucher.ReferencesIds = this.EditForm.Entity.Code;\r\n        var gridParent = this.GET(\"VoucherDetail\");\r\n        var gridReimbursementDetail = this.GET(\"ReimbursementDetail\");\r\n        var voucherDetail = JSON.parse(JSON.stringify(gridParent.Item.map(x => x.Entity)));\r\n        var reimbursementDetail = JSON.parse(JSON.stringify(gridReimbursementDetail.Item.map(x => x.Entity)));\r\n        var adv = reimbursementDetail.map(x => x.Code).join(\",\");\r\n        if (voucherDetail && voucherDetail.length == 0) {\r\n            voucherDetail.push({\r\n                Id: this.Uuid7.NewGuid(),\r\n                InsertedBy: this.Token.UserId,\r\n                DescriptionIdText: voucher.Description,\r\n                Quantity: this.Decimal(1),\r\n                Amount: this.Decimal(voucher.Amount),\r\n                CurrencyId: voucher.CurrencyId,\r\n                ExchangeRateINV: this.Decimal(1)\r\n            });\r\n            voucherDetail.forEach(item => {\r\n                item.Id = this.Uuid7.NewGuid();\r\n                item.InsertedBy = this.Token.UserId;\r\n                item.DescriptionIdText = item.Description ? item.Description.Name : null;\r\n                item.HblNo = item.Shipment ? item.Shipment.HblNo : null;\r\n                item.FileNo = item.File ? item.File.Code : null;\r\n                item.ExchangeRateINV = this.Decimal(item.ExchangeRateVND || item.ExchangeRateVND);\r\n                var vat = this.Decimal(item.Vat || 0);\r\n                item.Quantity = this.Decimal(item.Quantity);\r\n                item.Amount = this.Decimal(item.Amount);\r\n                item.ExAmount = this.Decimal(item.Amount).times(item.ExchangeRateINV).toDP(0);\r\n                item.ExTotalAmount = this.Decimal(item.ExAmount).times(item.Quantity).toDP(0);\r\n                if (vat.isNegative()) {\r\n                    item.ExAmountTax = vat.abs().times(item.ExchangeRateINV).toDP(0);\r\n                } else {\r\n                    item.ExAmountTax = this.Decimal(item.ExTotalAmount).times(vat.div(this.Decimal(100))).toDP(0);\r\n                }\r\n                item.ExTotalAmountTax = this.Decimal(item.ExTotalAmount).plus(item.ExAmountTax);\r\n                item.IsManual = true;\r\n                item.IsLock = false;\r\n                item.NoSubmit = false;\r\n                item.IsInvoice = false;\r\n                item.IsPayment = false;\r\n                item.IsInvoice = false;\r\n                item.IsPaymentAcc = false;\r\n                item.IsDebtAcc = false;\r\n                item.IsPaid = false;\r\n            });\r\n        }\r\n        else {\r\n            debugger;\r\n            var check = [...new Set(gridParent.Item.map(x => x.Entity.InvoiceNo).filter(x => x != null))];\r\n            voucher.Notes = null;\r\n            voucher.InvNotes = this.EditForm.Entity.Notes;\r\n            voucherDetail.forEach(item => {\r\n                item.Id = this.Uuid7.NewGuid();\r\n                item.InsertedBy = this.Token.UserId;\r\n                item.DescriptionIdText = item.Description ? item.Description.Name : null;\r\n                item.HblNo = item.Shipment ? item.Shipment.HblNo : null;\r\n                item.FileNo = item.File ? item.File.Code : null;\r\n                item.ExchangeRateINV = this.Decimal(item.ExchangeRateVND || item.ExchangeRateVND);\r\n                var vat = this.Decimal(item.Vat || 0);\r\n                item.Quantity = this.Decimal(item.Quantity);\r\n                item.Amount = this.Decimal(item.Amount);\r\n                item.ExAmount = this.Decimal(item.Amount).times(item.ExchangeRateINV).toDP(0);\r\n                item.ExTotalAmount = this.Decimal(item.ExAmount).times(item.Quantity).toDP(0);\r\n                if (vat.isNegative()) {\r\n                    item.ExAmountTax = vat.abs().times(item.ExchangeRateINV).toDP(0);\r\n                } else {\r\n                    item.ExAmountTax = this.Decimal(item.ExTotalAmount).times(vat.div(this.Decimal(100))).toDP(0);\r\n                }\r\n                item.ExTotalAmountTax = this.Decimal(item.ExTotalAmount).plus(item.ExAmountTax)\r\n                item.IsManual = true;\r\n                item.IsLock = false;\r\n                item.NoSubmit = false;\r\n                item.IsInvoice = false;\r\n                item.IsPayment = false;\r\n                item.IsInvoice = false;\r\n                item.IsPaymentAcc = false;\r\n                item.IsDebtAcc = false;\r\n                item.IsPaid = false;\r\n            });\r\n            if (this.Decimal(voucher.RemainingAmount).gt(this.Decimal(0)) && adv) {\r\n                var item = {\r\n                    Id: this.Uuid7.NewGuid(),\r\n                    InsertedBy: this.Token.UserId,\r\n                    DescriptionIdText: `Thu lại tiền tạm ứng nhân viên (Số tạm ứng: ${adv})`,\r\n                    CurrencyId: voucher.CurrencyId,\r\n                    CurrencyCode: voucher.CurrencyCode,\r\n                    ExchangeRateVND: voucher.ExchangeRateVND || this.Decimal(1),\r\n                    Vat: null,\r\n                    Quantity: 1,\r\n                    Amount: this.Decimal(voucher.RemainingAmount),\r\n                    TotalAmount: this.Decimal(voucher.RemainingAmount),\r\n                    TotalAmountTax: this.Decimal(voucher.RemainingAmount),\r\n                    AmountTax: null,\r\n                };\r\n                item.ExchangeRateINV = this.Decimal(item.ExchangeRateVND || item.ExchangeRateVND);\r\n                var vat = this.Decimal(item.Vat || 0);\r\n                item.Quantity = this.Decimal(item.Quantity);\r\n                item.Amount = this.Decimal(item.Amount);\r\n                item.ExAmount = this.Decimal(item.Amount).times(item.ExchangeRateINV).toDP(0);\r\n                item.ExTotalAmount = this.Decimal(item.ExAmount).times(item.Quantity).toDP(0);\r\n                if (vat.isNegative()) {\r\n                    item.ExAmountTax = vat.abs().times(item.ExchangeRateINV).toDP(0);\r\n                } else {\r\n                    item.ExAmountTax = this.Decimal(item.ExTotalAmount).times(vat.div(this.Decimal(100))).toDP(0);\r\n                }\r\n                item.ExTotalAmountTax = this.Decimal(item.ExTotalAmount).plus(item.ExAmountTax);\r\n                item.IsManual = true;\r\n                item.IsLock = false;\r\n                item.NoSubmit = false;\r\n                item.IsInvoice = false;\r\n                item.IsPayment = false;\r\n                item.IsInvoice = false;\r\n                item.IsPaymentAcc = false;\r\n                item.IsDebtAcc = false;\r\n                item.IsPaid = false;\r\n                voucherDetail.push(item);\r\n            }\r\n            if (this.Decimal(voucher.RemainingAmount).lt(this.Decimal(0)) && adv) {\r\n                var item = {\r\n                    Id: this.Uuid7.NewGuid(),\r\n                    InsertedBy: this.Token.UserId,\r\n                    DescriptionIdText: `Thanh toán tiền tạm ứng nhân viên (Số tạm ứng: ${adv})`,\r\n                    CurrencyId: voucher.CurrencyId,\r\n                    CurrencyCode: voucher.CurrencyCode,\r\n                    ExchangeRateVND: voucher.ExchangeRateVND || this.Decimal(1),\r\n                    Vat: null,\r\n                    Quantity: 1,\r\n                    Amount: this.Decimal(voucher.RemainingAmount),\r\n                    TotalAmount: this.Decimal(voucher.RemainingAmount),\r\n                    TotalAmountTax: this.Decimal(voucher.RemainingAmount),\r\n                    AmountTax: null,\r\n                };\r\n                item.ExchangeRateINV = this.Decimal(item.ExchangeRateVND || item.ExchangeRateVND);\r\n                var vat = this.Decimal(item.Vat || 0);\r\n                item.Quantity = this.Decimal(item.Quantity);\r\n                item.Amount = this.Decimal(item.Amount);\r\n                item.ExAmount = this.Decimal(item.Amount).times(item.ExchangeRateINV).toDP(0);\r\n                item.ExTotalAmount = this.Decimal(item.ExAmount).times(item.Quantity).toDP(0);\r\n                if (vat.isNegative()) {\r\n                    item.ExAmountTax = vat.abs().times(item.ExchangeRateINV).toDP(0);\r\n                } else {\r\n                    item.ExAmountTax = this.Decimal(item.ExTotalAmount).times(vat.div(this.Decimal(100))).toDP(0);\r\n                }\r\n                item.ExTotalAmountTax = this.Decimal(item.ExTotalAmount).plus(item.ExAmountTax);\r\n                item.IsManual = true;\r\n                item.IsLock = false;\r\n                item.NoSubmit = false;\r\n                item.IsInvoice = false;\r\n                item.IsPayment = false;\r\n                item.IsInvoice = false;\r\n                item.IsPaymentAcc = false;\r\n                item.IsDebtAcc = false;\r\n                item.IsPaid = false;\r\n                voucherDetail.push(item);\r\n            }\r\n        }\r\n        voucher.VoucherDetail = voucherDetail;\r\n        if (voucher.VoucherDetail && voucher.VoucherDetail.length > 0) {\r\n            const calculateTotal = (field) => voucher.VoucherDetail.filter(x => !x.IsAbs).reduce((acc, x) => acc.plus(this.Decimal(x[field] || 0)), this.Decimal(0));\r\n            if (voucher.IsMultiple) {\r\n                const totalAmount = calculateTotal(\"ExTotalAmount\").toDP(0);\r\n                const amountTax = calculateTotal(\"ExAmountTax\").toDP(0);\r\n                voucher.TotalAmountTax = totalAmount.plus(amountTax)\r\n                voucher.TotalAmount = totalAmount;\r\n                voucher.AmountTax = amountTax;\r\n            }\r\n            else {\r\n                const totalAmount = calculateTotal(\"ExTotalAmount\").toDP(0);\r\n                const amountTax = (totalAmount.times(new this.Decimal(voucher.VatInv || 0)).div(100)).toDP(0);\r\n                const totalAmountTax = totalAmount.plus(amountTax);\r\n                voucher.TotalAmountTax = totalAmountTax;\r\n                voucher.TotalAmount = totalAmount;\r\n                voucher.AmountTax = amountTax;\r\n            }\r\n        }\r\n        else {\r\n            voucher.TotalAmountTax = this.Decimal(0);\r\n            voucher.TotalAmount = this.Decimal(0);\r\n            voucher.AmountTax = this.Decimal(0);\r\n        }\r\n        this.OpenPopup(\"payment-accounting-editor\", voucher);\r\n    }\r\n};",
    "Events": "{\r\n    \"onsave\": \"OnSave\",\r\n    \"onsaveadd\": \"OnSaveAdd\",\r\n    \"saved\": \"UpdateParent\",\r\n    \"onsend\": \"OnSend\"\r\n}",
    "EntityId": "Voucher",
    "Active": true,
    "CodeId": "01939c4c-bf36-702d-887a-b567c7ffee8b",
    "ComponentGroup": [
        {
            "Id": "0193b5ee-4d73-7173-b600-ac4a0e36194f",
            "FieldName": "Container",
            "Order": 1,
            "ComponentType": "Section",
            "ClassName": "scroll-content",
            "XxlCol": 12,
            "Active": true,
            "DisabledExp": "[2, 3].includes(this.EditForm.Entity.StatusId)",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b5ee-4db2-7060-b970-451853aa9349",
            "FieldName": "Left",
            "Order": 1,
            "ComponentType": "Section",
            "ClassName": "card-body",
            "XxlCol": 18,
            "Active": true,
            "ParentId": "0193b5ee-4d73-7173-b600-ac4a0e36194f",
            "XxlOuterColumn": 12,
            "ReportTypeId": 1,
            "Components": [
                {
                    "Id": "0193b5ee-4e36-7449-bc04-88441eb4f872",
                    "FieldName": "Code",
                    "Order": 4,
                    "ComponentType": "Input",
                    "ComponentGroupId": "0193b5ee-4db2-7060-b970-451853aa9349",
                    "Column": 3,
                    "Label": "Ref No",
                    "ShowLabel": true,
                    "Active": true,
                    "ReportTypeId": 1
                },
                {
                    "Id": "0193b5ee-4ee7-76fc-a443-1d796bbb4955",
                    "FieldName": "Description",
                    "Order": 11,
                    "ComponentType": "Textarea",
                    "ComponentGroupId": "0193b5ee-4db2-7060-b970-451853aa9349",
                    "Column": 4,
                    "RowSpan": 3,
                    "Row": 4,
                    "Label": "Reimbursement Detail",
                    "ShowLabel": true,
                    "Active": true,
                    "ReportTypeId": 1
                },
                {
                    "Id": "0193b5ee-4f2c-720f-b3be-1f62ae636d5f",
                    "FieldName": "VoucherDate",
                    "Order": 5,
                    "ComponentType": "Datepicker",
                    "ComponentGroupId": "0193b5ee-4db2-7060-b970-451853aa9349",
                    "Column": 3,
                    "Label": "Post Date",
                    "ShowLabel": true,
                    "Active": true,
                    "ReportTypeId": 1
                },
                {
                    "Id": "0193b5ee-4f62-73e0-998d-dce324cad2db",
                    "FieldName": "DepartmentId",
                    "Order": 2,
                    "ComponentType": "Dropdown",
                    "ComponentGroupId": "0193b5ee-4db2-7060-b970-451853aa9349",
                    "FormatData": "{Name}",
                    "PlainText": "Select data",
                    "Column": 4,
                    "Row": 100,
                    "Label": "Department",
                    "ShowLabel": true,
                    "Validation": "[{\"Rule\": \"required\", \"Message\": \"{0} is required\"}]",
                    "Active": true,
                    "Query": "{\r\n    \"sql\": \"select ds.* from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name = N'Department Type'\",\r\n    \"total\": \"select count(ds.Id) as total from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name = N'Department Type'\"\r\n}",
                    "RefName": "MasterData",
                    "Template": "[{ \"FieldName\" : \"Name\", \"Label\" : \"Name\", \"ComponentType\" : \"Input\" }]",
                    "ReportTypeId": 1
                },
                {
                    "Id": "0193b5ee-4fcf-75b1-a546-7e7931f883c1",
                    "FieldName": "ActionId",
                    "Order": 13,
                    "ComponentType": "Select",
                    "ComponentGroupId": "0193b5ee-4db2-7060-b970-451853aa9349",
                    "FormatData": "{Name}",
                    "PlainText": "Select data",
                    "Column": 2,
                    "Row": 50,
                    "Label": "Status",
                    "ShowLabel": true,
                    "Disabled": true,
                    "DefaultVal": "1",
                    "Active": true,
                    "Query": "[\r\n    {\r\n        \"Id\": 0,\r\n        \"Name\": \"<span style='padding: 5px 10px; border-radius: 12px; color: white; background-color: #28a745;'><i class='far fa-check-circle mr-1'></i>Clear</span>\"\r\n    },\r\n    {\r\n        \"Id\": 1,\r\n        \"Name\": \"<span style='padding: 5px 10px; border-radius: 12px; color: white; background-color: #007bff;'><i class='far fa-times-circle mr-1'></i>UnClear</span>\"\r\n    }\r\n]",
                    "DisabledExp": "true",
                    "Editable": true,
                    "ReportTypeId": 1
                },
                {
                    "Id": "0193b5ee-5009-723d-b38e-a838afa2a0d9",
                    "FieldName": "AdvanceAmount",
                    "Order": 6,
                    "ComponentType": "Number",
                    "ComponentGroupId": "0193b5ee-4db2-7060-b970-451853aa9349",
                    "Column": 4,
                    "Precision": 2,
                    "Label": "Amount Advance",
                    "ShowLabel": true,
                    "Events": "{\r\n    \"input\": \"ToWords\"\r\n}",
                    "Disabled": true,
                    "Active": true,
                    "GroupTypeId": "00eb142c-0000-0000-8000-2945bf4c2c78",
                    "ReportTypeId": 1
                },
                {
                    "Id": "0193b5ee-50a1-74f7-82df-51f4b73066e4",
                    "FieldName": "AutoProgressId",
                    "Order": 14,
                    "ComponentType": "Select",
                    "ComponentGroupId": "0193b5ee-4db2-7060-b970-451853aa9349",
                    "FormatData": "{Description}",
                    "PlainText": "Select data",
                    "Column": 2,
                    "Row": 50,
                    "Label": "Progress",
                    "ShowLabel": true,
                    "Disabled": true,
                    "DefaultVal": "1",
                    "Active": true,
                    "Query": "[\r\n    {\r\n        \"Id\": 1,\r\n        \"Name\": \"To Do\",\r\n        \"Description\": \"<span style='padding: 5px 8px; border-radius: 10px; color: #fff; background-color: #95a5a6; display: inline-block;'> <i class='fal fa-clipboard-list mr-1'></i> To Do</span>\"\r\n    },\r\n    {\r\n        \"Id\": 2,\r\n        \"Name\": \"In Progress\",\r\n        \"Description\": \"<span style='padding: 5px 8px; border-radius: 10px; color: #fff; background-color: #3498db; display: inline-block;'><i class='fal fa-spinner fa-spin mr-1'></i> In Progress</span>\"\r\n    },\r\n    {\r\n        \"Id\": 3,\r\n        \"Name\": \"Complete\",\r\n        \"Description\": \"<span style='padding: 5px 8px; border-radius: 10px; color: #fff; background-color: #28a745; display: inline-block;'><i class='fal fa-check-circle mr-1'></i> Complete</span>\"\r\n    },\r\n    {\r\n        \"Id\": 4,\r\n        \"Name\": \"Decline\",\r\n        \"Description\": \"<span style='padding: 5px 8px; border-radius: 10px; color: #fff; background-color: #e74c3c; display: inline-block;'><i class='fal fa-times-circle mr-1'></i> Cancel</span>\"\r\n    }\r\n]",
                    "Template": "[{ \"FieldName\" : \"Description\", \"Label\" : \"Name\", \"ComponentType\" : \"Input\" }]",
                    "DisabledExp": "true",
                    "ReportTypeId": 1
                },
                {
                    "Id": "0193b5ee-510e-72bd-af11-56246b3b9649",
                    "FieldName": "AttachedFile",
                    "Order": 12,
                    "ComponentType": "FileUpload",
                    "ComponentGroupId": "0193b5ee-4db2-7060-b970-451853aa9349",
                    "Column": 4,
                    "RowSpan": 3,
                    "Row": 3,
                    "Label": "Fille Attach",
                    "ShowLabel": true,
                    "Active": true,
                    "IsMultiple": true,
                    "ReportTypeId": 1
                },
                {
                    "Id": "0193b5ee-5146-7387-8c11-8aa725207791",
                    "FieldName": "DeadlineDate",
                    "Order": 3,
                    "ComponentType": "Datepicker",
                    "ComponentGroupId": "0193b5ee-4db2-7060-b970-451853aa9349",
                    "Column": 4,
                    "Row": 50,
                    "Label": "Date Complete",
                    "ShowLabel": true,
                    "Active": true,
                    "ReportTypeId": 1
                },
                {
                    "Id": "0193b5fa-0df3-70fb-adba-3fbd4a33dec7",
                    "FieldName": "SettlementAmount",
                    "Order": 7,
                    "ComponentType": "Number",
                    "ComponentGroupId": "0193b5ee-4db2-7060-b970-451853aa9349",
                    "Column": 4,
                    "Precision": 2,
                    "Label": "Amount Reimbursement",
                    "ShowLabel": true,
                    "Events": "{\r\n    \"input\": \"ToWords\"\r\n}",
                    "Disabled": true,
                    "Active": true,
                    "GroupTypeId": "00eb142c-0000-0000-8000-2945bf4c2c78",
                    "ReportTypeId": 1
                },
                {
                    "Id": "0193b5fb-2564-760b-b31e-f8fc28d5e0a5",
                    "FieldName": "RemainingAmount",
                    "Order": 8,
                    "ComponentType": "Number",
                    "ComponentGroupId": "0193b5ee-4db2-7060-b970-451853aa9349",
                    "Column": 4,
                    "Precision": 2,
                    "Label": "Remaining Amount",
                    "ShowLabel": true,
                    "Events": "{\r\n    \"input\": \"ToWords\"\r\n}",
                    "Disabled": true,
                    "Active": true,
                    "GroupTypeId": "00eb142c-0000-0000-8000-2945bf4c2c78",
                    "ReportTypeId": 1
                },
                {
                    "Id": "0193b5ff-f824-7412-a596-a46b203c6ce3",
                    "FieldName": "UserId",
                    "Order": 1,
                    "ComponentType": "Dropdown",
                    "ComponentGroupId": "0193b5ee-4db2-7060-b970-451853aa9349",
                    "FormatData": "{FullName}",
                    "PlainText": "Select data",
                    "Column": 4,
                    "Row": 100,
                    "Label": "Name",
                    "ShowLabel": true,
                    "PopulateField": "let employee = this.EditForm.Entity.User || {};\r\nthis.EditForm.Entity.UserCode = (employee.Code || '').trim();\r\nthis.EditForm.Entity.DepartmentId = (employee.DepartmentId || '').trim();\r\nthis.EditForm.Entity.PositionId = (employee.PositionId || '').trim();\r\n\r\nthis.EditForm.UpdateView(false, false, \"UserCode\", \"PositionId\", \"DepartmentId\");\r\nreturn null;",
                    "Active": true,
                    "Query": "{\r\n    \"sql\": \"select ds.* from [User] as ds where (TypeId = 1)\",\r\n    \"total\": \"select count(ds.Id) as total from [User] as ds where (TypeId = 1)\"\r\n}",
                    "RefName": "User",
                    "Template": "[{ \"FieldName\" : \"FullName\", \"Label\" : \"Full Name\", \"ComponentType\" : \"FullName\" },\r\n{ \"FieldName\" : \"NickName\", \"Label\" : \"NickName\", \"ComponentType\" : \"Input\" },\r\n{ \"FieldName\" : \"DepartmentId\", \"Label\" : \"Department\", \"ComponentType\" : \"Dropdown\", \"RefName\":\"MasterData\",\"FormatData\" : \"{Name}\" }]",
                    "OrderBy": "ds.[InsertedDate]",
                    "ReportTypeId": 1
                },
                {
                    "Id": "0193b646-a706-7481-a8b6-6b3df1fdb571",
                    "FieldName": "ReimbursementDetail",
                    "Order": 9,
                    "ComponentType": "GridView",
                    "ComponentGroupId": "0193b5ee-4db2-7060-b970-451853aa9349",
                    "Column": 6,
                    "RowSpan": 3,
                    "Row": 100,
                    "Label": "Reimbursement Detail",
                    "ClassName": "sticky",
                    "ChildStyle": "height:150px",
                    "Events": "{\r\n    \"contextmenu\": \"AddContextMenu\",\r\n    \"change\": \"CalcTotalAmount\"\r\n}",
                    "DefaultVal": "{\r\n    \"ReimbursementId\": this.EditForm.Entity.Id\r\n}",
                    "Active": true,
                    "Query": "{\r\n    \"sql\": \"select * from Voucher as ds where ds.VoucherId = '{ReimbursementId}'\",\r\n    \"total\": \"select count(ds.Id) as total from Voucher as ds where ds.VoucherId = '{VoucherId}'\"\r\n}",
                    "RefName": "Voucher",
                    "PreQuery": "{\r\n    \"ReimbursementId\": this.EditForm.Entity.Id\r\n}",
                    "Editable": true,
                    "OrderBy": "ds.[InsertedDate] asc",
                    "ReportTypeId": 1
                },
                {
                    "Id": "01940d50-182d-7485-b379-5a311816627b",
                    "FieldName": "UserApprovedIds",
                    "Order": 15,
                    "ComponentType": "Dropdown",
                    "ComponentGroupId": "0193b5ee-4db2-7060-b970-451853aa9349",
                    "FormatData": "{FullName}",
                    "PlainText": "Select data",
                    "Column": 4,
                    "Row": 100,
                    "Label": "Checked By",
                    "ShowLabel": true,
                    "Disabled": true,
                    "Active": true,
                    "Query": "{\r\n    \"sql\": \"select ds.* from [User] as ds where (TypeId = 1)\",\r\n    \"total\": \"select count(ds.Id) as total from [User] as ds where (TypeId = 1)\"\r\n}",
                    "RefName": "User",
                    "Template": "[{ \"FieldName\" : \"FullName\", \"Label\" : \"Full Name\", \"ComponentType\" : \"FullName\" },\r\n{ \"FieldName\" : \"NickName\", \"Label\" : \"NickName\", \"ComponentType\" : \"Input\" },\r\n{ \"FieldName\" : \"DepartmentId\", \"Label\" : \"Department\", \"ComponentType\" : \"Dropdown\", \"RefName\":\"MasterData\",\"FormatData\" : \"{Name}\" }]",
                    "DisabledExp": "true",
                    "IsMultiple": true,
                    "ReportTypeId": 1
                }
            ]
        },
        {
            "Id": "0193b5ee-5176-75d6-80cc-33b331b4994e",
            "FieldName": "Detail",
            "Order": 3,
            "ComponentType": "Section",
            "Label": "Reimbursement Details",
            "ClassName": "card-body",
            "XxlCol": 12,
            "Active": true,
            "ParentId": "0193b5ee-4d73-7173-b600-ac4a0e36194f",
            "TabGroup": "Other charges",
            "XxlOuterColumn": 12,
            "ReportTypeId": 1,
            "Components": [
                {
                    "Id": "0193b5ee-51ab-724c-835b-1444a91eb156",
                    "FieldName": "VoucherDetail",
                    "Order": 2,
                    "ComponentType": "GridView",
                    "ComponentGroupId": "0193b5ee-5176-75d6-80cc-33b331b4994e",
                    "Column": 12,
                    "Row": 200,
                    "Label": "Voucher Detail",
                    "ClassName": "sticky",
                    "Events": "{\r\n    \"change\": \"CalcTotalAmount2\",\r\n    \"BeforeCreated\": \"BeforeCreated\"\r\n}",
                    "DefaultVal": "{\r\n    \"VoucherId\": this.EditForm.Entity.Id\r\n}",
                    "Active": true,
                    "CanAdd": true,
                    "Query": "{\r\n    \"sql\": \"select ds.* from VoucherDetail as ds where (ds.[VoucherId] = '{VoucherId}')\",\r\n    \"total\": \"select count(ds.Id) as total from VoucherDetail as ds where (ds.[VoucherId] = '{VoucherId}')\"\r\n}",
                    "RefName": "VoucherDetail",
                    "PreQuery": "{\r\n    \"VoucherId\": this.EditForm.Entity.Id\r\n}",
                    "Editable": true,
                    "OrderBy": "ds.[InsertedDate] asc",
                    "ReportTypeId": 1
                }
            ]
        },
        {
            "Id": "0193b5ee-51e0-750a-813e-c98cc9895a5e",
            "FieldName": "Center",
            "Order": 1,
            "ComponentType": "Section",
            "ClassName": "title-option",
            "Style": "margin-bottom: 0px;padding: 0;",
            "XxlCol": 12,
            "Active": true,
            "ReportTypeId": 1
        },
        {
            "Id": "0193b5ee-520d-7693-a05f-217ba1a207b9",
            "FieldName": "Button",
            "Order": 1,
            "ComponentType": "Section",
            "ClassName": "ribbon-group",
            "Style": "margin-bottom: 0px;padding: 0;",
            "XxlCol": 12,
            "Active": true,
            "ReportTypeId": 1,
            "Components": [
                {
                    "Id": "0193b5ee-52cf-7691-8527-f2f657ad981d",
                    "FieldName": "btnSave",
                    "Order": 5,
                    "ComponentType": "Button",
                    "ComponentGroupId": "0193b5ee-520d-7693-a05f-217ba1a207b9",
                    "Column": 1,
                    "Label": "Save",
                    "Icon": "fal fa-save",
                    "ClassName": "btn detail-button primary",
                    "HotKey": "Ctrl-S",
                    "Events": "{ \"click\" : \"SavePatch\" }",
                    "Active": true,
                    "ReportTypeId": 1
                },
                {
                    "Id": "0194074a-aeff-7636-8afb-08136bb410a6",
                    "FieldName": "btnSendEntity",
                    "Order": 2,
                    "ComponentType": "Button",
                    "ComponentGroupId": "0193b5ee-520d-7693-a05f-217ba1a207b9",
                    "Column": 1,
                    "Label": "Send",
                    "Icon": "far fa-share-all",
                    "ClassName": "btn detail-button secondary-outline",
                    "Events": "{ \"click\" : \"SendEntity\" }",
                    "Active": true,
                    "ShowExp": "(this.Entity.StatusId == 1 || this.Entity.StatusId == 4) && this.Token.UserId == this.Entity.InsertedBy && !this.Entity.Id.startsWith('-')",
                    "ReportTypeId": 1
                },
                {
                    "Id": "0194074a-aeff-7636-8afb-0fe51a811fc5",
                    "FieldName": "btnDecline",
                    "Order": 3,
                    "ComponentType": "Button",
                    "ComponentGroupId": "0193b5ee-520d-7693-a05f-217ba1a207b9",
                    "Column": 1,
                    "Label": "Decline",
                    "Icon": "fal fa-comment-alt-slash",
                    "ClassName": "btn detail-button secondary-outline",
                    "Events": "{ \"click\" : \"DeclineEntity\" }",
                    "Active": true,
                    "ShowExp": "var rs = this.Entity.StatusId == 2 && this.Entity.UserApprovedIds.includes(this.Token.UserId); return rs; ",
                    "ReportTypeId": 1
                },
                {
                    "Id": "0194074a-af00-77cd-b3de-15135450591d",
                    "FieldName": "btnApprove",
                    "Order": 4,
                    "ComponentType": "Button",
                    "ComponentGroupId": "0193b5ee-520d-7693-a05f-217ba1a207b9",
                    "Column": 1,
                    "Label": "Approve",
                    "Icon": "fal fa-check-circle",
                    "ClassName": "btn detail-button secondary-outline",
                    "Events": "{ \"click\" : \"ApprovedEntity\" }",
                    "Active": true,
                    "ShowExp": "var rs = this.Entity.StatusId == 2 && this.Entity.UserApprovedIds.includes(this.Token.UserId); return rs; ",
                    "ReportTypeId": 1
                },
                {
                    "Id": "01950cb8-410d-727e-8865-294736a025ff",
                    "FieldName": "btnCreatePayment",
                    "Order": -1,
                    "ComponentType": "Button",
                    "ComponentGroupId": "0193b5ee-520d-7693-a05f-217ba1a207b9",
                    "Column": 1,
                    "Label": "Clearing",
                    "Icon": "fas fa-receipt",
                    "ClassName": "btn detail-button secondary-outline",
                    "Events": "{    \"click\": \"CreateRP\"}",
                    "Active": true,
                    "ShowExp": "!this.Entity.Id.startsWith('-') && !this.Entity.PaymentAccId && this.Entity.StatusId == 3 && (this.Entity.UserApprovedIds && this.Entity.UserApprovedIds.includes(this.Token.UserId) || this.Entity.ForwardId == this.Token.UserId) ",
                    "ReportTypeId": 1
                },
                {
                    "Id": "01950cb8-410d-727e-8865-2d49a913c3d9",
                    "FieldName": "btnViewPayment",
                    "Order": -1,
                    "ComponentType": "Button",
                    "ComponentGroupId": "0193b5ee-520d-7693-a05f-217ba1a207b9",
                    "Column": 1,
                    "Label": "Open Clearing",
                    "Icon": "fas fa-receipt",
                    "ClassName": "btn detail-button secondary-outline",
                    "Events": "{    \"click\": \"CreateRP\"}",
                    "Active": true,
                    "ShowExp": "this.Entity.PaymentAccId && this.Entity.StatusId == 3 && (this.Entity.UserApprovedIds && this.Entity.UserApprovedIds.includes(this.Token.UserId) || this.Entity.ForwardId == this.Token.UserId) ",
                    "ReportTypeId": 1
                }
            ]
        },
        {
            "Id": "01940d4c-e85f-73f8-a103-65cfff615d15",
            "FieldName": "Detail",
            "Order": 10,
            "ComponentType": "Section",
            "Label": "Approve History",
            "ClassName": "card-body",
            "XxlCol": 12,
            "Active": true,
            "ParentId": "0193b5ee-4d73-7173-b600-ac4a0e36194f",
            "TabGroup": "Other charges",
            "XxlOuterColumn": 12,
            "IsDropDown": true,
            "ReportTypeId": 1,
            "Components": [
                {
                    "Id": "01940d4d-8339-700d-84ed-86eb0fc17533",
                    "FieldName": "Approvement",
                    "Order": 1,
                    "ComponentType": "GridView",
                    "ComponentGroupId": "01940d4c-e85f-73f8-a103-65cfff615d15",
                    "Column": 12,
                    "Row": 50,
                    "Label": "Approvement",
                    "ClassName": "sticky",
                    "ChildStyle": "height: 150px;",
                    "Active": true,
                    "Query": "{\r\n    \"sql\": \"select * from Approvement as ds where RecordId = '{RecordId}'\",\r\n    \"total\": \"select count(ds.Id) as total from Approvement as ds where RecordId = '{RecordId}'\"\r\n}",
                    "RefName": "Approvement",
                    "PreQuery": "{\r\n    \"RecordId\": this.EditForm.Entity.Id\r\n}",
                    "OrderBy": "ds.InsertedDate desc",
                    "AddRowExp": "this.Entity.StatusId != 3",
                    "ReportTypeId": 1
                }
            ]
        }
    ],
    "GridPolicies": [
        {
            "Id": "0193b5ee-5302-730a-9741-e101ea41d92e",
            "FieldName": "DescriptionId",
            "Order": 1,
            "ComponentType": "Dropdown",
            "FormatData": "{Name}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "Description",
            "Events": "{\"change\":\"CheckCurrency\"}",
            "Width": "183px",
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select * from FeeType as ds\",\r\n    \"total\": \"select count(ds.Id) as total from FeeType as ds\"\r\n}",
            "RefName": "FeeType",
            "Template": "[{ \"FieldName\" : \"Name\", \"Label\" : \"Name\", \"ComponentType\" : \"Input\" },{ \"FieldName\" : \"Description\", \"Label\" : \"Description\", \"ComponentType\" : \"Input\" },{ \"FieldName\" : \"GroupId\", \"Label\" : \"Group\", \"ComponentType\" : \"Dropdown\", \"RefName\" : \"MasterData\", \"FormatData\" : \"{Name}\" }]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "183px",
            "MaxWidth": "183px",
            "OrderBy": "ds.IsFreight desc",
            "EntityId": "VoucherDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b5ee-5374-71d8-b1ed-5e9c50e747d4",
            "FieldName": "Amount",
            "Order": 5,
            "ComponentType": "Number",
            "Precision": 3,
            "Label": "Unit Price",
            "Events": "{\r\n    \"input\": \"CalcPrice\"\r\n}",
            "Width": "92px",
            "Active": true,
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "92px",
            "MaxWidth": "92px",
            "EntityId": "VoucherDetail",
            "GroupTypeId": "00ec1404-0000-0000-8000-858f8a4d5181",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b5ee-53a7-7018-bbed-da1c8460fed2",
            "FieldName": "FileId",
            "Order": 3,
            "ComponentType": "Dropdown",
            "FormatData": "{Code}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "File No",
            "Width": "118px",
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select * from Shipment as ds where ((ds.InsertedBy = '{TokenUserId}' or ds.UserApprovedIds like '%{TokenUserId}%' or ds.UserViewIds like '%{TokenUserId}%' or (ds.ReceiverIds like '%{TokenUserId}%' and ds.StatusId = 3) or (ds.ForwardId = '{TokenUserId}')) and ParentId is null)\",\r\n    \"total\": \"select count(ds.Id) as total from Shipment as ds where ((ds.InsertedBy = '{TokenUserId}' or ds.UserApprovedIds like '%{TokenUserId}%' or ds.UserViewIds like '%{TokenUserId}%' or (ds.ReceiverIds like '%{TokenUserId}%' and ds.StatusId = 3) or (ds.ForwardId = '{TokenUserId}')) and ParentId is null)\"\r\n}\r\n",
            "RefName": "Shipment",
            "Template": "[{ \"FieldName\" : \"Code\", \"Label\" : \"File No\", \"ComponentType\" : \"Input\" }]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "118px",
            "MaxWidth": "118px",
            "OrderBy": "ds.InsertedDate desc",
            "EntityId": "VoucherDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b5ee-53da-70e5-9830-36ee4b753df7",
            "FieldName": "ShipmentId",
            "Order": 2,
            "ComponentType": "Dropdown",
            "FormatData": "{HblNo}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "HBL No/CDS",
            "Width": "123px",
            "PopulateField": "this.Entity.FileId = this.Matched.ParentId;\r\nif (this.Entity.IsObh) {\r\n    this.Entity.ObhId = this.Matched.CustomerId;\r\n    this.Entity.PartnerId = this.Matched.CustomerId;\r\n}\r\nreturn this.Parent.UpdateView(false);",
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select * from Shipment as ds where ((ds.InsertedBy = '{TokenUserId}' or ds.UserApprovedIds like '%{TokenUserId}%' or ds.SaleId = '{TokenUserId}' or ds.UserViewIds like '%{TokenUserId}%' or (ds.ReceiverIds like '%{TokenUserId}%' and ds.StatusId = 3) or (ds.ForwardId = '{TokenUserId}')) and ds.ParentId is not null and HblNo is not null)\",\r\n    \"total\": \"select count(ds.Id) as total from Shipment as ds where ((ds.InsertedBy = '{TokenUserId}' or ds.UserApprovedIds like '%{TokenUserId}%' or ds.SaleId = '{TokenUserId}' or ds.UserViewIds like '%{TokenUserId}%' or (ds.ReceiverIds like '%{TokenUserId}%') or (ds.ForwardId = '{TokenUserId}' and ds.StatusId = 3 and ds.ParentId is not null and HblNo is not null)))\"\r\n}",
            "RefName": "Shipment",
            "Template": "[{ \"FieldName\" : \"HblNo\", \"Label\" : \"HblNo\", \"ComponentType\" : \"Input\" }]",
            "PreQuery": "{\r\n    \"FileId\": this.Entity.FileId\r\n}",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "123px",
            "MaxWidth": "123px",
            "OrderBy": "ds.InsertedDate desc",
            "EntityId": "VoucherDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b5ee-5486-756c-a161-e3fd8682d6c2",
            "FieldName": "TotalAmountTax",
            "Order": 8,
            "ComponentType": "Number",
            "Precision": 2,
            "Label": "Total",
            "Events": "{\r\n    \"input\": \"CalcUnitPrice\"\r\n}",
            "Width": "93px",
            "Active": true,
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "93px",
            "MaxWidth": "93px",
            "EntityId": "VoucherDetail",
            "GroupTypeId": "00eb142c-0000-0000-8000-2945bf4c2c78",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b5ee-5532-73a5-a44d-69f89c69e3d5",
            "FieldName": "Quantity",
            "Order": 4,
            "ComponentType": "Number",
            "Precision": 2,
            "Label": "Quantity",
            "Events": "{\r\n    \"input\": \"CalcPrice\"\r\n}",
            "Width": "73px",
            "Active": true,
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "73px",
            "MaxWidth": "73px",
            "EntityId": "VoucherDetail",
            "GroupTypeId": "00d41484-0000-0000-8000-7725fc908bab",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b68d-c896-7448-afcf-cac8adefad32",
            "FieldName": "Code",
            "Order": 0,
            "ComponentType": "Input",
            "Row": 50,
            "Label": "Advance No",
            "Width": "92px",
            "Active": true,
            "FocusSearch": true,
            "MinWidth": "92px",
            "MaxWidth": "92px",
            "EntityId": "ReimbursementDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b6ac-be72-77fc-8571-bce937bfb1ca",
            "FieldName": "VoucherDate",
            "Order": 1,
            "ComponentType": "Datepicker",
            "Row": 50,
            "Label": "Date",
            "Width": "74px",
            "Active": true,
            "Template": "[\r\n    {\r\n        \"FieldName\": \"Id\",\r\n        \"Label\": \"Id\",\r\n        \"ComponentType\": \"Input\"\r\n    }\r\n]",
            "FocusSearch": true,
            "MinWidth": "74px",
            "MaxWidth": "74px",
            "EntityId": "ReimbursementDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b6ac-c451-76e5-a49e-6f2225e5b199",
            "FieldName": "Note",
            "Order": 4,
            "ComponentType": "Input",
            "Row": 50,
            "Label": "Description",
            "Width": "90px",
            "Active": true,
            "Template": "[\r\n    {\r\n        \"FieldName\": \"Id\",\r\n        \"Label\": \"Id\",\r\n        \"ComponentType\": \"Input\"\r\n    }\r\n]",
            "FocusSearch": true,
            "MinWidth": "90px",
            "MaxWidth": "90px",
            "EntityId": "ReimbursementDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b6ac-ca3a-7178-92a2-af5364682ac2",
            "FieldName": "PaymentMethodId",
            "Order": 2,
            "ComponentType": "Dropdown",
            "FormatData": "{Name}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "Method",
            "Disabled": true,
            "Width": "73px",
            "Active": true,
            "Query": "[\r\n    {\r\n        \"Id\": 1,\r\n        \"Name\": \"Bank\"\r\n    },\r\n    {\r\n        \"Id\": 2,\r\n        \"Name\": \"Cash\"\r\n    }\r\n]",
            "Template": "[{ \"FieldName\" : \"Name\", \"Label\" : \"Name\", \"ComponentType\" : \"Input\" }]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "73px",
            "MaxWidth": "73px",
            "EntityId": "ReimbursementDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b6ac-d0c1-718e-ae63-6e8b94c9dd46",
            "FieldName": "Amount",
            "Order": 3,
            "ComponentType": "Number",
            "Precision": 2,
            "Label": "Amount",
            "Width": "97px",
            "Active": true,
            "Template": "[\r\n    {\r\n        \"FieldName\": \"Id\",\r\n        \"Label\": \"Id\",\r\n        \"ComponentType\": \"Input\"\r\n    }\r\n]",
            "FocusSearch": true,
            "MinWidth": "97px",
            "MaxWidth": "97px",
            "EntityId": "ReimbursementDetail",
            "GroupTypeId": "00eb142c-0000-0000-8000-2945bf4c2c78",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b6b8-b204-7538-872f-7b88695a7f46",
            "FieldName": "VendorId",
            "Order": 0,
            "ComponentType": "Dropdown",
            "FormatData": "{Name}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "Provider",
            "Width": "168px",
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select * from Partner as ds where (ActionId = 1 and IsNoDebt = 0 and ServiceId in (1,2,3,4))\",\r\n    \"total\": \"select count(ds.Id) as total from Partner as ds  where (ActionId = 1 and IsNoDebt = 0 and ServiceId in (1,2,3,4))\"\r\n}",
            "RefName": "Partner",
            "Template": "[\r\n    {\r\n        \"FieldName\": \"Code\",\r\n        \"Label\": \"Code\",\r\n        \"ComponentType\": \"Input\"\r\n    },\r\n    {\r\n        \"FieldName\": \"CompanyNameInv\",\r\n        \"Label\": \"Company Name\",\r\n        \"ComponentType\": \"Input\",\r\n        \"MaxWidth\": \"300px\",\r\n        \"MinWidth\": \"300px\",\r\n        \"Width\": \"300px\"\r\n    },\r\n    {\r\n        \"FieldName\": \"Name\",\r\n        \"Label\": \"Name\",\r\n        \"ComponentType\": \"Input\",\r\n        \"MaxWidth\": \"400px\",\r\n        \"MinWidth\": \"400px\",\r\n        \"Width\": \"400px\"\r\n    },\r\n    {\r\n        \"FieldName\": \"TaxCode\",\r\n        \"Label\": \"TaxCode\",\r\n        \"ComponentType\": \"TaxCode\"\r\n    }\r\n]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "168px",
            "MaxWidth": "168px",
            "EntityId": "VoucherDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b6b9-f6d8-755a-938e-bbd68a44d7d3",
            "FieldName": "Vat",
            "Order": 6,
            "ComponentType": "Number",
            "Precision": 2,
            "Label": "VAT",
            "Events": "{\r\n    \"input\": \"CalcPrice\"\r\n}",
            "Width": "58px",
            "Active": true,
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "58px",
            "MaxWidth": "58px",
            "EntityId": "VoucherDetail",
            "GroupTypeId": "00d41484-0000-0000-8000-7725fc908bab",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b6ba-7a02-7675-972f-30a050ab36dc",
            "FieldName": "ObhId",
            "Order": 10,
            "ComponentType": "Dropdown",
            "FormatData": "{Name}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "OBH Partner",
            "Width": "87px",
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select * from Partner as ds where ServiceId in (1,2,3) and (TypeId not in (1,2) or TypeId is null) and ActionId = 1 and IsNoDebt = 0\",\r\n    \"total\": \"select count(ds.Id) as total from Partner as ds  where ServiceId in (1,2,3) and (TypeId not in (1,2) or TypeId is null) and ActionId = 1 and IsNoDebt = 0\"\r\n}",
            "RefName": "Partner",
            "Template": "[\r\n    {\r\n        \"FieldName\": \"Name\",\r\n        \"Label\": \"Name\",\r\n        \"ComponentType\": \"Input\",\r\n        \"MaxWidth\": \"500px\",\r\n        \"MinWidth\": \"500px\",\r\n        \"Width\": \"500px\"\r\n    },\r\n    {\r\n        \"FieldName\": \"TaxCode\",\r\n        \"Label\": \"TaxCode\",\r\n        \"ComponentType\": \"TaxCode\",\r\n        \"MaxWidth\": \"100px\",\r\n        \"MinWidth\": \"100px\",\r\n        \"Width\": \"100px\"\r\n    }\r\n]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "87px",
            "MaxWidth": "87px",
            "EntityId": "VoucherDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b6ba-9a28-706b-a9ff-f496bb46e26c",
            "FieldName": "InvoiceNo",
            "Order": 13,
            "ComponentType": "Input",
            "Row": 50,
            "Label": "Invoice No",
            "Validation": "this.Entity.Vat ? [\r\n    {\r\n        \"Rule\": \"required\",\r\n        \"Message\": \"{0} is required\"\r\n    }\r\n] : [{}]",
            "Width": "100px",
            "Active": true,
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "100px",
            "MaxWidth": "100px",
            "EntityId": "VoucherDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b6ba-d598-7149-8254-eb6b5054a230",
            "FieldName": "InvoiceIssuerId",
            "Order": 11,
            "ComponentType": "Dropdown",
            "FormatData": "{Name}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "Invoice Issuer",
            "Width": "87px",
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select * from Partner as ds where (ActionId = 1 and IsNoDebt = 0 and ServiceId in (1,2,3,4))\",\r\n    \"total\": \"select count(ds.Id) as total from Partner as ds  where (ActionId = 1 and IsNoDebt = 0 and ServiceId in (1,2,3,4))\"\r\n}",
            "RefName": "Partner",
            "Template": "[\r\n    {\r\n        \"FieldName\": \"Name\",\r\n        \"Label\": \"Name\",\r\n        \"ComponentType\": \"Input\",\r\n        \"MaxWidth\": \"500px\",\r\n        \"MinWidth\": \"500px\",\r\n        \"Width\": \"500px\"\r\n    },\r\n    {\r\n        \"FieldName\": \"TaxCode\",\r\n        \"Label\": \"TaxCode\",\r\n        \"ComponentType\": \"TaxCode\",\r\n        \"MaxWidth\": \"100px\",\r\n        \"MinWidth\": \"100px\",\r\n        \"Width\": \"100px\"\r\n    }\r\n]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "87px",
            "MaxWidth": "87px",
            "EntityId": "VoucherDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b6bb-2cfa-7249-a098-8bcc60f33047",
            "FieldName": "PartnerId",
            "Order": 12,
            "ComponentType": "Dropdown",
            "FormatData": "{Name}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "Receivable partner",
            "Width": "151px",
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select * from Partner as ds where ServiceId in (1,2,3) and (TypeId not in (1,2) or TypeId is null) and ActionId = 1 and IsNoDebt = 0\",\r\n    \"total\": \"select count(ds.Id) as total from Partner as ds  where ServiceId in (1,2,3) and (TypeId not in (1,2) or TypeId is null) and ActionId = 1 and IsNoDebt = 0\"\r\n}",
            "RefName": "Partner",
            "Template": "[\r\n    {\r\n        \"FieldName\": \"Name\",\r\n        \"Label\": \"Name\",\r\n        \"ComponentType\": \"Input\",\r\n        \"MaxWidth\": \"500px\",\r\n        \"MinWidth\": \"500px\",\r\n        \"Width\": \"500px\"\r\n    },\r\n    {\r\n        \"FieldName\": \"TaxCode\",\r\n        \"Label\": \"TaxCode\",\r\n        \"ComponentType\": \"TaxCode\",\r\n        \"MaxWidth\": \"100px\",\r\n        \"MinWidth\": \"100px\",\r\n        \"Width\": \"100px\"\r\n    }\r\n]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "151px",
            "MaxWidth": "151px",
            "EntityId": "VoucherDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b6bb-94e1-7098-97c2-0cb035cc61d5",
            "FieldName": "SeriNo",
            "Order": 14,
            "ComponentType": "Input",
            "Label": "Seri No",
            "Width": "73px",
            "Active": true,
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "73px",
            "MaxWidth": "73px",
            "EntityId": "VoucherDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b6bb-bbc8-7658-b070-43bc25574824",
            "FieldName": "InvoiceId",
            "Order": 15,
            "ComponentType": "Input",
            "Label": "ID VAT",
            "Width": "87px",
            "Active": true,
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "87px",
            "MaxWidth": "87px",
            "EntityId": "VoucherDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b6bb-eda9-721f-897a-c41c8ab0421d",
            "FieldName": "InvoiceDate",
            "Order": 16,
            "ComponentType": "Datepicker",
            "Row": 50,
            "Label": "Inv Date",
            "Width": "117px",
            "Active": true,
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "117px",
            "MaxWidth": "117px",
            "EntityId": "VoucherDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "0193b6bc-2907-772c-94b7-85a6cfe2373a",
            "FieldName": "Notes",
            "Order": 17,
            "ComponentType": "Input",
            "Label": "Notes",
            "Width": "87px",
            "Active": true,
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "87px",
            "MaxWidth": "87px",
            "EntityId": "VoucherDetail",
            "GroupTypeId": "00ec1404-0000-0000-8000-858f8a4d5181",
            "ReportTypeId": 1
        },
        {
            "Id": "0193bb4d-16dd-764c-9ac4-148d8b4fea70",
            "FieldName": "ServiceCopyAdvance",
            "Order": 1,
            "ComponentType": "Label",
            "PlainText": "Select data",
            "Column": 12,
            "Row": 50,
            "Label": "Advance Request",
            "ShowLabel": true,
            "Active": true,
            "Query": "select *,Id as ParentId\r\nfrom [Voucher]\r\nwhere Id in ({AdvanceId})\r\n\r\nSELECT *, VoucherId AS ParentId\r\nFROM [VoucherDetail]\r\nWHERE VoucherId in ({AdvanceId})",
            "Template": "[{ \"FieldName\" : \"Name\", \"Label\" : \"Name\", \"ComponentType\" : \"Input\" }]",
            "PreQuery": "{\r\n    \"AdvanceId\": this.Entity.AdvanceId ? this.Entity.AdvanceId.split(',').map(id => `'${id}'`).join(',') : '',\r\n}",
            "EntityId": "CopyAdvanceRequest",
            "IsMultiple": true,
            "ReportTypeId": 1
        },
        {
            "Id": "0193bb4e-51e6-7709-9805-24f1055a64d4",
            "FieldName": "AdvanceId",
            "Order": 2,
            "ComponentType": "Dropdown",
            "FormatData": "{Code}",
            "PlainText": "Select data",
            "Column": 12,
            "Row": 100,
            "Label": "Advance No",
            "ShowLabel": true,
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select * from Voucher as ds where ((ds.TypeId = 1 and UserId = '{UserId}' and Id NOT IN (SELECT value FROM STRING_SPLIT('{ParentIds}', ','))) and ds.ActionId = 1 and ds.StatusId = 3 and ds.VoucherId is null and ds.AutoProgressId = 3)\",\r\n    \"total\": \"select count(ds.Id) as total from Voucher as ds where ((ds.TypeId = 1 and UserId = '{UserId}' and Id NOT IN (SELECT value FROM STRING_SPLIT('{ParentIds}', ','))) and ds.ActionId = 1 and ds.StatusId = 3 and ds.VoucherId is null and ds.AutoProgressId = 3)\"\r\n}",
            "RefName": "Voucher",
            "Template": "[\r\n    {\r\n        \"FieldName\": \"Code\",\r\n        \"Label\": \"Advance No\",\r\n        \"ComponentType\": \"Input\"\r\n    },\r\n    {\r\n        \"FieldName\": \"Amount\",\r\n        \"Label\": \"Amount\",\r\n        \"ComponentType\": \"Number\"\r\n    },\r\n    {\r\n        \"FieldName\": \"DeadlineDate\",\r\n        \"Label\": \"Reimbursement Date\",\r\n        \"ComponentType\": \"Datepicker\"\r\n    }\r\n]",
            "PreQuery": "{\r\n    \"UserId\": this.EditForm.Entity.UserId,\r\n    \"ParentIds\": this.EditForm.FirstCom(\"ReimbursementDetail\").Item.map(x=>x.Entity.ParentId).join(',')\r\n}",
            "OrderBy": "ds.InsertedDate desc",
            "EntityId": "CopyAdvanceRequest",
            "IsMultiple": true,
            "ReportTypeId": 1
        },
        {
            "Id": "01940b06-6245-7388-81cd-053bd8a73b85",
            "FieldName": "CurrencyId",
            "Order": 7,
            "ComponentType": "Dropdown",
            "FormatData": "{Code}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "Currency",
            "Events": "{\r\n    \"change\": \"CheckCurrency\"\r\n}",
            "Width": "76px",
            "DefaultVal": "00e70228-0000-0000-8000-af9d4b995deb",
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select ds.* from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name = N'Currency'\",\r\n    \"total\": \"select count(ds.Id) as total from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name = N'Currency'\"\r\n}",
            "RefName": "MasterData",
            "Template": "[{ \"FieldName\" : \"Code\", \"Label\" : \"Currency\", \"ComponentType\" : \"Input\" }]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "76px",
            "MaxWidth": "76px",
            "OrderBy": "ds.Enum asc",
            "EntityId": "VoucherDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "01940b77-9221-763c-a41a-bb58c16b3325",
            "FieldName": "IsObh",
            "Order": 9,
            "ComponentType": "Checkbox",
            "FormatData": "{Name}",
            "PlainText": "Select data",
            "Row": 50,
            "Label": "OBH",
            "Events": "{\r\n    \"change\": \"CheckObh\"\r\n}",
            "Width": "87px",
            "PopulateField": "if (this.Entity.IsObh) {\r\n    this.Entity.ObhId = this.Entity.Shipment.CustomerId;\r\n    this.Entity.PartnerId = this.Entity.ObhId;\r\n}\r\nelse {\r\n    this.Entity.ObhId = null;\r\n    this.Entity.PartnerId = null;\r\n}\r\nreturn this.Parent.UpdateView(false);",
            "Active": true,
            "Template": "[\r\n    {\r\n        \"FieldName\": \"Name\",\r\n        \"Label\": \"Name\",\r\n        \"ComponentType\": \"Input\",\r\n        \"MaxWidth\": \"500px\",\r\n        \"MinWidth\": \"500px\",\r\n        \"Width\": \"500px\"\r\n    },\r\n    {\r\n        \"FieldName\": \"TaxCode\",\r\n        \"Label\": \"TaxCode\",\r\n        \"ComponentType\": \"TaxCode\",\r\n        \"MaxWidth\": \"100px\",\r\n        \"MinWidth\": \"100px\",\r\n        \"Width\": \"100px\"\r\n    }\r\n]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "87px",
            "MaxWidth": "87px",
            "EntityId": "VoucherDetail",
            "ReportTypeId": 1
        },
        {
            "Id": "01940d4d-da48-7641-a9a6-5b6aa5507b17",
            "FieldName": "Approved",
            "Order": 0,
            "ComponentType": "Checkbox",
            "Label": "Approved",
            "Width": "133px",
            "Active": true,
            "FocusSearch": true,
            "MinWidth": "133px",
            "MaxWidth": "133px",
            "EntityId": "Approvement",
            "ReportTypeId": 1
        },
        {
            "Id": "01940d4d-da49-7679-a4f6-d7517c49aff6",
            "FieldName": "ReasonOfChange",
            "Order": 1,
            "ComponentType": "Input",
            "Label": "Reason Change",
            "Width": "374px",
            "Active": true,
            "FocusSearch": true,
            "MinWidth": "374px",
            "MaxWidth": "374px",
            "EntityId": "Approvement",
            "ReportTypeId": 1
        },
        {
            "Id": "01940d4d-da49-7679-a4f6-dbb3c618b0a1",
            "FieldName": "ApprovedDate",
            "Order": 2,
            "ComponentType": "Datepicker",
            "FormatData": "DD/MM/YYYY HH:mm",
            "Label": "Action Date",
            "Width": "144px",
            "Active": true,
            "FocusSearch": true,
            "MinWidth": "144px",
            "MaxWidth": "144px",
            "EntityId": "Approvement",
            "ReportTypeId": 1
        },
        {
            "Id": "01940d4d-da49-7679-a4f6-dcbd3b008060",
            "FieldName": "ApprovedBy",
            "Order": 3,
            "ComponentType": "Dropdown",
            "FormatData": "{FullName}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "Action by",
            "Width": "116px",
            "Active": true,
            "RefName": "User",
            "Template": "[{ \"FieldName\" : \"FullName\", \"Label\" : \"Full Name\", \"ComponentType\" : \"FullName\" },\r\n{ \"FieldName\" : \"NickName\", \"Label\" : \"NickName\", \"ComponentType\" : \"Input\" },\r\n{ \"FieldName\" : \"DepartmentId\", \"Label\" : \"Department\", \"ComponentType\" : \"Dropdown\", \"RefName\":\"MasterData\",\"FormatData\" : \"{Name}\" }]",
            "FocusSearch": true,
            "MinWidth": "116px",
            "MaxWidth": "116px",
            "EntityId": "Approvement",
            "ReportTypeId": 1
        },
        {
            "Id": "019411ff-5b6a-75f9-885a-adbc4bcf041b",
            "FieldName": "UnitId",
            "Order": 3,
            "ComponentType": "Dropdown",
            "FormatData": "{Name}",
            "PlainText": "Select data",
            "Row": 100,
            "Label": "Unit",
            "Width": "99px",
            "Active": true,
            "Query": "{\r\n    \"sql\": \"select ds.* from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name in (N'Unit Type','Container Type','LTL Type')\",\r\n    \"total\": \"select count(ds.Id) as total from [MasterData] as ds left join [MasterData] ds1 on ds.ParentId = ds1.Id where  ds1.Name in (N'Unit Type','Container Type','LTL Type')\"\r\n}",
            "RefName": "MasterData",
            "Template": "[\r\n    {\r\n        \"FieldName\": \"Name\",\r\n        \"Label\": \"Name\",\r\n        \"ComponentType\": \"Input\"\r\n    },\r\n    {\r\n        \"FieldName\": \"Description\",\r\n        \"Label\": \"Description\",\r\n        \"ComponentType\": \"Input\"\r\n    }\r\n]",
            "FocusSearch": true,
            "Editable": true,
            "MinWidth": "99px",
            "MaxWidth": "99px",
            "OrderBy": "ds.Name asc",
            "EntityId": "VoucherDetail",
            "ReportTypeId": 1
        }
    ],
    "Components": [
        {
            "Id": "0193b5ee-52cf-7691-8527-f2f657ad981d",
            "FieldName": "btnSave",
            "Order": 5,
            "ComponentType": "Button",
            "ComponentGroupId": "0193b5ee-520d-7693-a05f-217ba1a207b9",
            "Column": 1,
            "Label": "Save",
            "Icon": "fal fa-save",
            "ClassName": "btn detail-button primary",
            "HotKey": "Ctrl-S",
            "Events": "{ \"click\" : \"SavePatch\" }",
            "Active": true,
            "ReportTypeId": 1
        },
        {
            "Id": "0193c54c-be82-70b8-8dc0-2c6cc2145018",
            "FieldName": "btnAddAdv",
            "Order": 1,
            "ComponentType": "Button",
            "ComponentGroupId": "0193b646-a706-7481-a8b6-6b3df1fdb571",
            "Column": 12,
            "Icon": "far fa-plus",
            "ClassName": "btn btn-sub",
            "Events": "{\r\n    \"click\": \"AddDetail\"\r\n}",
            "Active": true,
            "ReportTypeId": 1
        },
        {
            "Id": "0194074a-aeff-7636-8afb-08136bb410a6",
            "FieldName": "btnSendEntity",
            "Order": 2,
            "ComponentType": "Button",
            "ComponentGroupId": "0193b5ee-520d-7693-a05f-217ba1a207b9",
            "Column": 1,
            "Label": "Send",
            "Icon": "far fa-share-all",
            "ClassName": "btn detail-button secondary-outline",
            "Events": "{ \"click\" : \"SendEntity\" }",
            "Active": true,
            "ShowExp": "(this.Entity.StatusId == 1 || this.Entity.StatusId == 4) && this.Token.UserId == this.Entity.InsertedBy && !this.Entity.Id.startsWith('-')",
            "ReportTypeId": 1
        },
        {
            "Id": "0194074a-aeff-7636-8afb-0fe51a811fc5",
            "FieldName": "btnDecline",
            "Order": 3,
            "ComponentType": "Button",
            "ComponentGroupId": "0193b5ee-520d-7693-a05f-217ba1a207b9",
            "Column": 1,
            "Label": "Decline",
            "Icon": "fal fa-comment-alt-slash",
            "ClassName": "btn detail-button secondary-outline",
            "Events": "{ \"click\" : \"DeclineEntity\" }",
            "Active": true,
            "ShowExp": "var rs = this.Entity.StatusId == 2 && this.Entity.UserApprovedIds.includes(this.Token.UserId); return rs; ",
            "ReportTypeId": 1
        },
        {
            "Id": "0194074a-af00-77cd-b3de-15135450591d",
            "FieldName": "btnApprove",
            "Order": 4,
            "ComponentType": "Button",
            "ComponentGroupId": "0193b5ee-520d-7693-a05f-217ba1a207b9",
            "Column": 1,
            "Label": "Approve",
            "Icon": "fal fa-check-circle",
            "ClassName": "btn detail-button secondary-outline",
            "Events": "{ \"click\" : \"ApprovedEntity\" }",
            "Active": true,
            "ShowExp": "var rs = this.Entity.StatusId == 2 && this.Entity.UserApprovedIds.includes(this.Token.UserId); return rs; ",
            "ReportTypeId": 1
        },
        {
            "Id": "01950cb8-410d-727e-8865-294736a025ff",
            "FieldName": "btnCreatePayment",
            "Order": -1,
            "ComponentType": "Button",
            "ComponentGroupId": "0193b5ee-520d-7693-a05f-217ba1a207b9",
            "Column": 1,
            "Label": "Clearing",
            "Icon": "fas fa-receipt",
            "ClassName": "btn detail-button secondary-outline",
            "Events": "{    \"click\": \"CreateRP\"}",
            "Active": true,
            "ShowExp": "!this.Entity.Id.startsWith('-') && !this.Entity.PaymentAccId && this.Entity.StatusId == 3 && (this.Entity.UserApprovedIds && this.Entity.UserApprovedIds.includes(this.Token.UserId) || this.Entity.ForwardId == this.Token.UserId) ",
            "ReportTypeId": 1
        },
        {
            "Id": "01950cb8-410d-727e-8865-2d49a913c3d9",
            "FieldName": "btnViewPayment",
            "Order": -1,
            "ComponentType": "Button",
            "ComponentGroupId": "0193b5ee-520d-7693-a05f-217ba1a207b9",
            "Column": 1,
            "Label": "Open Clearing",
            "Icon": "fas fa-receipt",
            "ClassName": "btn detail-button secondary-outline",
            "Events": "{    \"click\": \"CreateRP\"}",
            "Active": true,
            "ShowExp": "this.Entity.PaymentAccId && this.Entity.StatusId == 3 && (this.Entity.UserApprovedIds && this.Entity.UserApprovedIds.includes(this.Token.UserId) || this.Entity.ForwardId == this.Token.UserId) ",
            "ReportTypeId": 1
        }
    ],
    "FeaturePolicies": [
        {
            "Id": "0CC1E3FE-E33C-4387-9343-33CD16D25293",
            "RoleId": "0001fd80-0000-0000-8000-e3a7c7a43ba7",
            "CanRead": true,
            "CanReadAll": true,
            "CanWrite": true,
            "CanDelete": true,
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "36C2D46A-F5CA-4207-90FB-826CC22AE1F3",
            "RoleId": "00012180-0000-0000-8000-13a7c7a23b11",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "4266D373-A0F7-41B3-9D63-525F87BA3DCB",
            "RoleId": "0001f180-0000-0000-8000-13a7c7a23b11",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "5B0A4338-3F9B-431A-BE67-60386256214C",
            "RoleId": "0001f180-0000-0000-8000-13a7c7a43b11",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "8E62029A-15B5-4883-A169-0F7927E7099E",
            "RoleId": "0001fd80-0000-0000-8000-e3a7c7a43ba1",
            "CanRead": true,
            "CanWrite": true,
            "CanDelete": true,
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "B123650F-D39B-4CC3-B9F0-1DCC8D433FC4",
            "RoleId": "0001fd80-0000-0000-8000-e3a7c7a43ba2",
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "E1CF3558-0C1C-4466-A828-AF5E45AD9531",
            "RoleId": "0001fd80-0000-0000-8000-13a7c7a43b11",
            "CanRead": true,
            "CanWrite": true,
            "CanDelete": true,
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "EC27B4CB-1A1B-4091-A56B-4DEC1418065E",
            "RoleId": "00012180-0000-0000-8000-13a7a7a23b11",
            "CanRead": true,
            "CanReadAll": true,
            "CanWrite": true,
            "CanDelete": true,
            "CanDeleteAll": true,
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "EC46C9E4-BD6D-4E79-A74D-9F0FDF58A4BC",
            "RoleId": "0001fd80-0000-0000-8000-23a7c7a43ba7",
            "CanRead": true,
            "CanReadAll": true,
            "CanWrite": true,
            "CanDelete": true,
            "CanDeleteAll": true,
            "TableName": "Feature",
            "Active": true
        },
        {
            "Id": "F62A1A21-1D7D-4FEA-B20C-B3A4190B04F9",
            "RoleId": "CUSTOMER",
            "TableName": "Feature",
            "Active": true
        }
    ],
    "UserSettings": [
        {
            "Id": "0676eb54-a331-7209-8000-ac9d792b1f13",
            "ComponentId": "0193b5ee-51ab-724c-835b-1444a91eb156",
            "UserId": "00661ecc-0000-0000-8000-b1880d2c43e5",
            "Value": "[{\"Id\":\"0193b6b8-b204-7538-872f-7b88695a7f46\",\"FieldName\":\"VendorId\",\"Order\":0,\"Width\":\"151px\"},{\"Id\":\"0193b5ee-5302-730a-9741-e101ea41d92e\",\"FieldName\":\"DescriptionId\",\"Order\":1,\"Width\":\"255px\"},{\"Id\":\"0193b5ee-53a7-7018-bbed-da1c8460fed2\",\"FieldName\":\"FileId\",\"Order\":2,\"Width\":\"118px\"},{\"Id\":\"0193b5ee-53da-70e5-9830-36ee4b753df7\",\"FieldName\":\"ShipmentId\",\"Order\":3,\"Width\":\"123px\"},{\"Id\":\"0193b5ee-5532-73a5-a44d-69f89c69e3d5\",\"FieldName\":\"Quantity\",\"Order\":4,\"Width\":\"73px\"},{\"Id\":\"0193b5ee-5374-71d8-b1ed-5e9c50e747d4\",\"FieldName\":\"Amount\",\"Order\":5,\"Width\":\"113px\"},{\"Id\":\"0193b6b9-f6d8-755a-938e-bbd68a44d7d3\",\"FieldName\":\"Vat\",\"Order\":6,\"Width\":\"87px\"},{\"Id\":\"01940b06-6245-7388-81cd-053bd8a73b85\",\"FieldName\":\"CurrencyId\",\"Order\":7,\"Width\":\"76px\"},{\"Id\":\"0193b5ee-5486-756c-a161-e3fd8682d6c2\",\"FieldName\":\"TotalAmountTax\",\"Order\":8,\"Width\":\"93px\"},{\"Id\":\"01940b77-9221-763c-a41a-bb58c16b3325\",\"FieldName\":\"IsObh\",\"Order\":9,\"Width\":\"87px\"},{\"Id\":\"0193b6ba-7a02-7675-972f-30a050ab36dc\",\"FieldName\":\"ObhId\",\"Order\":10,\"Width\":\"135px\"},{\"Id\":\"0193b6ba-d598-7149-8254-eb6b5054a230\",\"FieldName\":\"InvoiceIssuerId\",\"Order\":11,\"Width\":\"155px\"},{\"Id\":\"0193b6bb-2cfa-7249-a098-8bcc60f33047\",\"FieldName\":\"PartnerId\",\"Order\":12,\"Width\":\"151px\"},{\"Id\":\"0193b6ba-9a28-706b-a9ff-f496bb46e26c\",\"FieldName\":\"InvoiceNo\",\"Order\":13,\"Width\":\"100px\"},{\"Id\":\"0193b6bb-94e1-7098-97c2-0cb035cc61d5\",\"FieldName\":\"SeriNo\",\"Order\":14,\"Width\":\"73px\"},{\"Id\":\"0193b6bb-eda9-721f-897a-c41c8ab0421d\",\"FieldName\":\"InvoiceDate\",\"Order\":15,\"Width\":\"87px\"},{\"Id\":\"0193b6bb-bbc8-7658-b070-43bc25574824\",\"FieldName\":\"InvoiceId\",\"Order\":16,\"Width\":\"87px\"},{\"Id\":\"0193b6bc-2907-772c-94b7-85a6cfe2373a\",\"FieldName\":\"Notes\",\"Order\":17,\"Width\":\"87px\"}]",
            "Active": true
        },
        {
            "Id": "067700d6-9ace-79f4-8000-819a53e7f210",
            "ComponentId": "0193bb4e-51e6-7709-9805-24f1055a64d4",
            "UserId": "00781eb8-0000-0000-8000-52bf71dcaef7",
            "Value": "[]",
            "Active": true
        },
        {
            "Id": "0678496e-5e42-7bae-8000-f46d5eae1fbd",
            "ComponentId": "0193b5ee-51ab-724c-835b-1444a91eb156",
            "UserId": "00781eb8-0000-0000-8000-52bf71dcaef7",
            "Value": "[{\"Id\":\"0193b6b8-b204-7538-872f-7b88695a7f46\",\"FieldName\":\"VendorId\",\"Order\":0,\"Width\":\"168px\"},{\"Id\":\"0193b5ee-5302-730a-9741-e101ea41d92e\",\"FieldName\":\"DescriptionId\",\"Order\":1,\"Width\":\"183px\"},{\"Id\":\"0193b5ee-53da-70e5-9830-36ee4b753df7\",\"FieldName\":\"ShipmentId\",\"Order\":2,\"Width\":\"123px\"},{\"Id\":\"0193b5ee-53a7-7018-bbed-da1c8460fed2\",\"FieldName\":\"FileId\",\"Order\":3,\"Width\":\"118px\"},{\"Id\":\"019411ff-5b6a-75f9-885a-adbc4bcf041b\",\"FieldName\":\"UnitId\",\"Order\":4,\"Width\":\"99px\"},{\"Id\":\"0193b5ee-5532-73a5-a44d-69f89c69e3d5\",\"FieldName\":\"Quantity\",\"Order\":5,\"Width\":\"73px\"},{\"Id\":\"0193b5ee-5374-71d8-b1ed-5e9c50e747d4\",\"FieldName\":\"Amount\",\"Order\":6,\"Width\":\"92px\"},{\"Id\":\"0193b6b9-f6d8-755a-938e-bbd68a44d7d3\",\"FieldName\":\"Vat\",\"Order\":7,\"Width\":\"58px\"},{\"Id\":\"01940b06-6245-7388-81cd-053bd8a73b85\",\"FieldName\":\"CurrencyId\",\"Order\":8,\"Width\":\"76px\"},{\"Id\":\"0193b5ee-5486-756c-a161-e3fd8682d6c2\",\"FieldName\":\"TotalAmountTax\",\"Order\":9,\"Width\":\"93px\"},{\"Id\":\"01940b77-9221-763c-a41a-bb58c16b3325\",\"FieldName\":\"IsObh\",\"Order\":10,\"Width\":\"87px\"},{\"Id\":\"0193b6ba-7a02-7675-972f-30a050ab36dc\",\"FieldName\":\"ObhId\",\"Order\":11,\"Width\":\"87px\"},{\"Id\":\"0193b6ba-d598-7149-8254-eb6b5054a230\",\"FieldName\":\"InvoiceIssuerId\",\"Order\":12,\"Width\":\"140px\"},{\"Id\":\"0193b6bb-2cfa-7249-a098-8bcc60f33047\",\"FieldName\":\"PartnerId\",\"Order\":13,\"Width\":\"151px\"},{\"Id\":\"0193b6ba-9a28-706b-a9ff-f496bb46e26c\",\"FieldName\":\"InvoiceNo\",\"Order\":14,\"Width\":\"100px\"},{\"Id\":\"0193b6bb-94e1-7098-97c2-0cb035cc61d5\",\"FieldName\":\"SeriNo\",\"Order\":15,\"Width\":\"73px\"},{\"Id\":\"0193b6bb-bbc8-7658-b070-43bc25574824\",\"FieldName\":\"InvoiceId\",\"Order\":16,\"Width\":\"87px\"},{\"Id\":\"0193b6bb-eda9-721f-897a-c41c8ab0421d\",\"FieldName\":\"InvoiceDate\",\"Order\":17,\"Width\":\"117px\"},{\"Id\":\"0193b6bc-2907-772c-94b7-85a6cfe2373a\",\"FieldName\":\"Notes\",\"Order\":18,\"Width\":\"87px\"}]",
            "Active": true
        },
        {
            "Id": "06784ba3-0f0e-7d04-8000-07924763cdfc",
            "ComponentId": "0193b646-a706-7481-a8b6-6b3df1fdb571",
            "UserId": "00781eb8-0000-0000-8000-52bf71dcaef7",
            "Value": "[{\"Id\":\"0193b68d-c896-7448-afcf-cac8adefad32\",\"FieldName\":\"Code\",\"Order\":0,\"Width\":\"111px\"},{\"Id\":\"0193b6ac-d0c1-718e-ae63-6e8b94c9dd46\",\"FieldName\":\"Amount\",\"Order\":1,\"Width\":\"152px\"},{\"Id\":\"0193b6ac-be72-77fc-8571-bce937bfb1ca\",\"FieldName\":\"VoucherDate\",\"Order\":2,\"Width\":\"103px\"},{\"Id\":\"0193b6ac-ca3a-7178-92a2-af5364682ac2\",\"FieldName\":\"PaymentMethodId\",\"Order\":3,\"Width\":\"74px\"},{\"Id\":\"0193b6ac-c451-76e5-a49e-6f2225e5b199\",\"FieldName\":\"Note\",\"Order\":4,\"Width\":\"75px\"}]",
            "Active": true
        },
        {
            "Id": "0678680f-0369-765a-8000-3c44f7a9044b",
            "ComponentId": "0193bb4e-51e6-7709-9805-24f1055a64d4",
            "UserId": "00661ecc-0000-0000-8000-b1880d2c43e5",
            "Value": "[]",
            "Active": true
        },
        {
            "Id": "06786817-bb67-7a8d-8000-5f8751491a64",
            "ComponentId": "0193b6b8-b204-7538-872f-7b88695a7f46",
            "UserId": "00781eb8-0000-0000-8000-52bf71dcaef7",
            "Value": "[]",
            "Active": true
        }
    ]
}